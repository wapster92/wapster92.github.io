{"version":3,"sources":["main.js"],"names":["d","g","type","content","url","ajax","ajax_request","closeOnEsc","closeOnOverlayClick","clone","overlay","block","tpl","css","backgroundColor","opacity","container","wrap","body","errors","autoclose_delay","ajax_unsuccessful_load","openEffect","speed","closeEffect","beforeOpen","noop","afterOpen","beforeClose","afterClose","afterLoading","afterLoadingOnShow","errorLoading","j","e","m","a","b","c","each","target","get","this","closest","length","f","getParentEl","data","transition","fadeIn","fadeOut","show","hide","prepare_body","unbind","bind","arcticmodal","init_el","modalID","html","before","add","click","merge","proxy","h","beforeSend","k","success","error","l","n","extend","trigger","setTimeout","init","isFunction","append","outerWidth","not","close","last","replaceWith","find","remove","abort","setDefault","document","all","querySelector","keyCode","fn","apply","Array","prototype","slice","call","arguments","jQuery","$","focused","flexslider","el","options","slider","vars","defaults","watchedEventClearTimer","namespace","msGesture","window","navigator","msPointerEnabled","MSGesture","touch","DocumentTouch","eventType","watchedEvent","vertical","direction","reverse","carousel","itemWidth","fade","animation","asNav","asNavFor","methods","animating","currentSlide","parseInt","startAt","isNaN","animatingTo","atEnd","containerSelector","selector","substr","search","slides","count","syncExists","sync","prop","args","manualPause","stopped","started","startTimeout","transitions","video","useCSS","obj","createElement","props","i","undefined","style","pfx","replace","toLowerCase","ensureAnimationEnd","controlsContainer","manualControls","customDirectionNav","randomize","sort","Math","round","random","empty","doMath","setup","controlNav","directionNav","keyboard","multipleKeyboard","event","keycode","getTarget","flexAnimate","pauseOnAction","mousewheel","delta","deltaX","deltaY","preventDefault","pausePlay","slideshow","pauseInvisible","pauseOnHover","hover","manualPlay","pause","play","isHidden","initDelay","smoothHeight","resize","attr","start","floor","move","currentItem","removeClass","eq","addClass","_slider","_gesture","addEventListener","currentTarget","addPointer","pointerId","$slide","index","hasClass","on","offset","left","scrollLeft","setupManual","setupPaging","item","slide","controlNavScaffold","pagingCount","altText","thumbCaptions","captn","set","active","delegate","$this","setToClearWatchedEvent","update","action","pos","directionNavScaffold","disabledClass","animationLoop","removeAttr","filter","pausePlayScaffold","state","playText","pauseText","startX","startY","cwidth","dx","startT","onTouchStart","onTouchMove","onTouchEnd","scrolling","localX","localY","accDx","msTouchAction","stopPropagation","w","Number","Date","limit","itemW","itemMargin","cloneOffset","transX","translationX","transY","translationY","abs","detail","MSGESTURE_FLAG_INERTIA","setImmediate","stop","setProps","updateDx","canAdvance","touches","pageX","pageY","removeEventListener","is","width","computedW","viewport","height","newSlides","dur","$obj","animate","innerHeight","playing","uniqueID","$clone","visProp","getHiddenProp","evtname","clearTimeout","prefixes","override","withSync","fromNav","master","ceil","visible","end","zIndex","wrapup","dimension","animationSpeed","easing","margin","slideString","calcNext","after","animateSlides","clearInterval","animatedSlides","setInterval","slideshowSpeed","dir","special","posCheck","float","marginRight","position","display","webkitTransition","fadeFirstSlide","sliderOffset","arr","overflow","appendTo","cloneCount","makeArray","first","prepend","computedM","slideMargin","minItems","maxItems","boxPadding","itemT","itemM","minW","maxW","addSlide","added","removeSlide","removed","blur","focus","prevText","nextText","allowOneSlide","$slides","$slider","factory","module","exports","require","$activityObject","$arrowLeftObject","class","$arrowRightObject","$arrows","$captionObject","$buttonObject","$overlayObject","$navItem","href","$navObject","$wrapper","$body","cssTransitionSupport","s","documentElement","WebkitTransition","MozTransition","OTransition","hasCssTransitionSupport","cssTransitionTranslateX","element","positionX","prefix","hasTouch","hasPointers","pointerEnabled","wasTouched","pointerType","MSPOINTER_TYPE_MOUSE","hasFullscreenSupport","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","imageLightbox","opts","id","allowedTypes","activity","arrows","button","caption","enableKeyboard","fullscreen","gutter","offsetY","navigation","preloadNext","quitOnEnd","quitOnImgClick","quitOnDocClick","quitOnEscKey","_onLoadEnd","activityIndicatorOff","_previousTarget","targetIndex","targets","_quitImageLightbox","_loadImage","_nextTarget","activityIndicatorOn","overlayOn","closeButtonOn","captionReset","navigationOn","$navItems","children","tmpTarget","currentIndex","siblings","arrowsOn","stopImmediatePropagation","targetSet","image","imageWidth","imageHeight","swipeDiff","inProgress","isTargetValid","validImage","test","ext","queries","split","parser","searchObject","protocol","host","hostname","port","pathname","hash","parseURL","RegExp","_setImage","captionHeight","outerHeight","screenWidth","screenHeight","gutterFactor","tmpImage","Image","src","onload","ratio","cssHeight","cssWidth","cssLeft","params","_removeImage","imgPath","swipeStart","swipeEnd","imagePosLeft","nextTarget","originalEvent","posX","offsetLeft","_openImageLightbox","$target","_onStart","_addTargets","newTargets","ready","indexOf","which","getElementById","parentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","off","addToImageLightbox","elements","loadPreviousImage","loadNextImage","quitImageLightbox","startImageLightbox","define","amd","caretTimeoutId","ua","userAgent","iPhone","chrome","android","mask","definitions","9","*","autoclear","dataName","placeholder","caret","begin","range","setSelectionRange","createTextRange","collapse","moveEnd","moveStart","select","selectionStart","selectionEnd","selection","createRange","duplicate","text","unmask","settings","defs","tests","partialPosition","firstNonMaskPos","lastRequiredNonMaskPos","len","oldVal","completed","push","tryFireCompleted","buffer","getPlaceholder","input","charAt","seekNext","shiftL","writeBuffer","max","blurEvent","checkVal","val","focusText","change","clearBuffer","join","allow","lastMatch","defaultBuffer","substring","map","one","removeData","activeElement","seekPrev","p","next","ctrlKey","altKey","metaKey","String","fromCharCode","t","shiftR","curVal","h_hght","console","log","elem","top","scrollTop","scroll","blocks","$blocks","$elem","$window","biggestElement","biggestElementVisibleHeight","screenTop","screenBottom","visibleHeight","scroll_el"],"mappings":"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","file":"main.js","sourcesContent":["/*\r\n\r\n arcticModal — jQuery plugin\r\n Version: 0.3\r\n Author: Sergey Predvoditelev (sergey.predvoditelev@gmail.com)\r\n Company: Arctic Laboratory (http://arcticlab.ru/)\r\n\r\n Docs & Examples: http://arcticlab.ru/arcticmodal/\r\n\r\n */\r\n(function(d){var g={type:\"html\",content:\"\",url:\"\",ajax:{},ajax_request:null,closeOnEsc:!0,closeOnOverlayClick:!0,clone:!1,overlay:{block:void 0,tpl:'<div class=\"arcticmodal-overlay\"></div>',css:{backgroundColor:\"#000\",opacity:0.6}},container:{block:void 0,tpl:'<div class=\"arcticmodal-container\"><table class=\"arcticmodal-container_i\"><tr><td class=\"arcticmodal-container_i2\"></td></tr></table></div>'},wrap:void 0,body:void 0,errors:{tpl:'<div class=\"arcticmodal-error arcticmodal-close\"></div>',autoclose_delay:2E3,\r\najax_unsuccessful_load:\"Error\"},openEffect:{type:\"fade\",speed:400},closeEffect:{type:\"fade\",speed:400},beforeOpen:d.noop,afterOpen:d.noop,beforeClose:d.noop,afterClose:d.noop,afterLoading:d.noop,afterLoadingOnShow:d.noop,errorLoading:d.noop},j=0,e=d([]),m={isEventOut:function(a,b){var c=!0;d(a).each(function(){d(b.target).get(0)==d(this).get(0)&&(c=!1);0==d(b.target).closest(\"HTML\",d(this).get(0)).length&&(c=!1)});return c}},f={getParentEl:function(a){var b=d(a);return b.data(\"arcticmodal\")?b:(b=\r\nd(a).closest(\".arcticmodal-container\").data(\"arcticmodalParentEl\"))?b:!1},transition:function(a,b,c,e){e=void 0==e?d.noop:e;switch(c.type){case \"fade\":\"show\"==b?a.fadeIn(c.speed,e):a.fadeOut(c.speed,e);break;case \"none\":\"show\"==b?a.show():a.hide(),e()}},prepare_body:function(a,b){d(\".arcticmodal-close\",a.body).unbind(\"click.arcticmodal\").bind(\"click.arcticmodal\",function(){b.arcticmodal(\"close\");return!1})},init_el:function(a,b){var c=a.data(\"arcticmodal\");if(!c){c=b;j++;c.modalID=j;c.overlay.block=\r\nd(c.overlay.tpl);c.overlay.block.css(c.overlay.css);c.container.block=d(c.container.tpl);c.body=d(\".arcticmodal-container_i2\",c.container.block);b.clone?c.body.html(a.clone(!0)):(a.before('<div id=\"arcticmodalReserve'+c.modalID+'\" style=\"display: none\" />'),c.body.html(a));f.prepare_body(c,a);c.closeOnOverlayClick&&c.overlay.block.add(c.container.block).click(function(b){m.isEventOut(d(\">*\",c.body),b)&&a.arcticmodal(\"close\")});c.container.block.data(\"arcticmodalParentEl\",a);a.data(\"arcticmodal\",c);\r\ne=d.merge(e,a);d.proxy(h.show,a)();if(\"html\"==c.type)return a;if(void 0!=c.ajax.beforeSend){var k=c.ajax.beforeSend;delete c.ajax.beforeSend}if(void 0!=c.ajax.success){var g=c.ajax.success;delete c.ajax.success}if(void 0!=c.ajax.error){var l=c.ajax.error;delete c.ajax.error}var n=d.extend(!0,{url:c.url,beforeSend:function(){void 0==k?c.body.html('<div class=\"arcticmodal-loading\" />'):k(c,a)},success:function(b){a.trigger(\"afterLoading\");c.afterLoading(c,a,b);void 0==g?c.body.html(b):g(c,a,b);f.prepare_body(c,\r\na);a.trigger(\"afterLoadingOnShow\");c.afterLoadingOnShow(c,a,b)},error:function(){a.trigger(\"errorLoading\");c.errorLoading(c,a);void 0==l?(c.body.html(c.errors.tpl),d(\".arcticmodal-error\",c.body).html(c.errors.ajax_unsuccessful_load),d(\".arcticmodal-close\",c.body).click(function(){a.arcticmodal(\"close\");return!1}),c.errors.autoclose_delay&&setTimeout(function(){a.arcticmodal(\"close\")},c.errors.autoclose_delay)):l(c,a)}},c.ajax);c.ajax_request=d.ajax(n);a.data(\"arcticmodal\",c)}},init:function(a){a=\r\nd.extend(!0,{},g,a);if(d.isFunction(this))if(void 0==a)d.error(\"jquery.arcticmodal: Uncorrect parameters\");else if(\"\"==a.type)d.error('jquery.arcticmodal: Don\\'t set parameter \"type\"');else switch(a.type){case \"html\":if(\"\"==a.content){d.error('jquery.arcticmodal: Don\\'t set parameter \"content\"');break}var b=a.content;a.content=\"\";return f.init_el(d(b),a);case \"ajax\":if(\"\"==a.url){d.error('jquery.arcticmodal: Don\\'t set parameter \"url\"');break}return f.init_el(d(\"<div />\"),a)}else return this.each(function(){f.init_el(d(this),\r\nd.extend(!0,{},a))})}},h={show:function(){var a=f.getParentEl(this);if(!1===a)d.error(\"jquery.arcticmodal: Uncorrect call\");else{var b=a.data(\"arcticmodal\");b.overlay.block.hide();b.container.block.hide();d(\"BODY\").append(b.overlay.block);d(\"BODY\").append(b.container.block);b.beforeOpen(b,a);a.trigger(\"beforeOpen\");if(\"hidden\"!=b.wrap.css(\"overflow\")){b.wrap.data(\"arcticmodalOverflow\",b.wrap.css(\"overflow\"));var c=b.wrap.outerWidth(!0);b.wrap.css(\"overflow\",\"hidden\");var g=b.wrap.outerWidth(!0);g!=\r\nc&&b.wrap.css(\"marginRight\",g-c+\"px\")}e.not(a).each(function(){d(this).data(\"arcticmodal\").overlay.block.hide()});f.transition(b.overlay.block,\"show\",1<e.length?{type:\"none\"}:b.openEffect);f.transition(b.container.block,\"show\",1<e.length?{type:\"none\"}:b.openEffect,function(){b.afterOpen(b,a);a.trigger(\"afterOpen\")});return a}},close:function(){if(d.isFunction(this))e.each(function(){d(this).arcticmodal(\"close\")});else return this.each(function(){var a=f.getParentEl(this);if(!1===a)d.error(\"jquery.arcticmodal: Uncorrect call\");\r\nelse{var b=a.data(\"arcticmodal\");!1!==b.beforeClose(b,a)&&(a.trigger(\"beforeClose\"),e.not(a).last().each(function(){d(this).data(\"arcticmodal\").overlay.block.show()}),f.transition(b.overlay.block,\"hide\",1<e.length?{type:\"none\"}:b.closeEffect),f.transition(b.container.block,\"hide\",1<e.length?{type:\"none\"}:b.closeEffect,function(){b.afterClose(b,a);a.trigger(\"afterClose\");b.clone||d(\"#arcticmodalReserve\"+b.modalID).replaceWith(b.body.find(\">*\"));b.overlay.block.remove();b.container.block.remove();a.data(\"arcticmodal\",\r\nnull);d(\".arcticmodal-container\").length||(b.wrap.data(\"arcticmodalOverflow\")&&b.wrap.css(\"overflow\",b.wrap.data(\"arcticmodalOverflow\")),b.wrap.css(\"marginRight\",0))}),\"ajax\"==b.type&&b.ajax_request.abort(),e=e.not(a))}})},setDefault:function(a){d.extend(!0,g,a)}};d(function(){g.wrap=d(document.all&&!document.querySelector?\"html\":\"body\")});d(document).bind(\"keyup.arcticmodal\",function(a){var b=e.last();b.length&&b.data(\"arcticmodal\").closeOnEsc&&27===a.keyCode&&b.arcticmodal(\"close\")});d.arcticmodal=\r\nd.fn.arcticmodal=function(a){if(h[a])return h[a].apply(this,Array.prototype.slice.call(arguments,1));if(\"object\"===typeof a||!a)return f.init.apply(this,arguments);d.error(\"jquery.arcticmodal: Method \"+a+\" does not exist\")}})(jQuery);\r\n/*\r\n * jQuery FlexSlider v2.6.4\r\n * Copyright 2012 WooThemes\r\n * Contributing Author: Tyler Smith\r\n */\r\n;\r\n(function ($) {\r\n\r\n  var focused = true;\r\n\r\n  //FlexSlider: Object Instance\r\n  $.flexslider = function(el, options) {\r\n    var slider = $(el);\r\n\r\n    // making variables public\r\n    slider.vars = $.extend({}, $.flexslider.defaults, options);\r\n\r\n    var namespace = slider.vars.namespace,\r\n        msGesture = window.navigator && window.navigator.msPointerEnabled && window.MSGesture,\r\n        touch = (( \"ontouchstart\" in window ) || msGesture || window.DocumentTouch && document instanceof DocumentTouch) && slider.vars.touch,\r\n        // deprecating this idea, as devices are being released with both of these events\r\n        eventType = \"click touchend MSPointerUp keyup\",\r\n        watchedEvent = \"\",\r\n        watchedEventClearTimer,\r\n        vertical = slider.vars.direction === \"vertical\",\r\n        reverse = slider.vars.reverse,\r\n        carousel = (slider.vars.itemWidth > 0),\r\n        fade = slider.vars.animation === \"fade\",\r\n        asNav = slider.vars.asNavFor !== \"\",\r\n        methods = {};\r\n\r\n    // Store a reference to the slider object\r\n    $.data(el, \"flexslider\", slider);\r\n\r\n    // Private slider methods\r\n    methods = {\r\n      init: function() {\r\n        slider.animating = false;\r\n        // Get current slide and make sure it is a number\r\n        slider.currentSlide = parseInt( ( slider.vars.startAt ? slider.vars.startAt : 0), 10 );\r\n        if ( isNaN( slider.currentSlide ) ) { slider.currentSlide = 0; }\r\n        slider.animatingTo = slider.currentSlide;\r\n        slider.atEnd = (slider.currentSlide === 0 || slider.currentSlide === slider.last);\r\n        slider.containerSelector = slider.vars.selector.substr(0,slider.vars.selector.search(' '));\r\n        slider.slides = $(slider.vars.selector, slider);\r\n        slider.container = $(slider.containerSelector, slider);\r\n        slider.count = slider.slides.length;\r\n        // SYNC:\r\n        slider.syncExists = $(slider.vars.sync).length > 0;\r\n        // SLIDE:\r\n        if (slider.vars.animation === \"slide\") { slider.vars.animation = \"swing\"; }\r\n        slider.prop = (vertical) ? \"top\" : \"marginLeft\";\r\n        slider.args = {};\r\n        // SLIDESHOW:\r\n        slider.manualPause = false;\r\n        slider.stopped = false;\r\n        //PAUSE WHEN INVISIBLE\r\n        slider.started = false;\r\n        slider.startTimeout = null;\r\n        // TOUCH/USECSS:\r\n        slider.transitions = !slider.vars.video && !fade && slider.vars.useCSS && (function() {\r\n          var obj = document.createElement('div'),\r\n              props = ['perspectiveProperty', 'WebkitPerspective', 'MozPerspective', 'OPerspective', 'msPerspective'];\r\n          for (var i in props) {\r\n            if ( obj.style[ props[i] ] !== undefined ) {\r\n              slider.pfx = props[i].replace('Perspective','').toLowerCase();\r\n              slider.prop = \"-\" + slider.pfx + \"-transform\";\r\n              return true;\r\n            }\r\n          }\r\n          return false;\r\n        }());\r\n        slider.ensureAnimationEnd = '';\r\n        // CONTROLSCONTAINER:\r\n        if (slider.vars.controlsContainer !== \"\") slider.controlsContainer = $(slider.vars.controlsContainer).length > 0 && $(slider.vars.controlsContainer);\r\n        // MANUAL:\r\n        if (slider.vars.manualControls !== \"\") slider.manualControls = $(slider.vars.manualControls).length > 0 && $(slider.vars.manualControls);\r\n\r\n        // CUSTOM DIRECTION NAV:\r\n        if (slider.vars.customDirectionNav !== \"\") slider.customDirectionNav = $(slider.vars.customDirectionNav).length === 2 && $(slider.vars.customDirectionNav);\r\n\r\n        // RANDOMIZE:\r\n        if (slider.vars.randomize) {\r\n          slider.slides.sort(function() { return (Math.round(Math.random())-0.5); });\r\n          slider.container.empty().append(slider.slides);\r\n        }\r\n\r\n        slider.doMath();\r\n\r\n        // INIT\r\n        slider.setup(\"init\");\r\n\r\n        // CONTROLNAV:\r\n        if (slider.vars.controlNav) { methods.controlNav.setup(); }\r\n\r\n        // DIRECTIONNAV:\r\n        if (slider.vars.directionNav) { methods.directionNav.setup(); }\r\n\r\n        // KEYBOARD:\r\n        if (slider.vars.keyboard && ($(slider.containerSelector).length === 1 || slider.vars.multipleKeyboard)) {\r\n          $(document).bind('keyup', function(event) {\r\n            var keycode = event.keyCode;\r\n            if (!slider.animating && (keycode === 39 || keycode === 37)) {\r\n              var target = (keycode === 39) ? slider.getTarget('next') :\r\n                           (keycode === 37) ? slider.getTarget('prev') : false;\r\n              slider.flexAnimate(target, slider.vars.pauseOnAction);\r\n            }\r\n          });\r\n        }\r\n        // MOUSEWHEEL:\r\n        if (slider.vars.mousewheel) {\r\n          slider.bind('mousewheel', function(event, delta, deltaX, deltaY) {\r\n            event.preventDefault();\r\n            var target = (delta < 0) ? slider.getTarget('next') : slider.getTarget('prev');\r\n            slider.flexAnimate(target, slider.vars.pauseOnAction);\r\n          });\r\n        }\r\n\r\n        // PAUSEPLAY\r\n        if (slider.vars.pausePlay) { methods.pausePlay.setup(); }\r\n\r\n        //PAUSE WHEN INVISIBLE\r\n        if (slider.vars.slideshow && slider.vars.pauseInvisible) { methods.pauseInvisible.init(); }\r\n\r\n        // SLIDSESHOW\r\n        if (slider.vars.slideshow) {\r\n          if (slider.vars.pauseOnHover) {\r\n            slider.hover(function() {\r\n              if (!slider.manualPlay && !slider.manualPause) { slider.pause(); }\r\n            }, function() {\r\n              if (!slider.manualPause && !slider.manualPlay && !slider.stopped) { slider.play(); }\r\n            });\r\n          }\r\n          // initialize animation\r\n          //If we're visible, or we don't use PageVisibility API\r\n          if(!slider.vars.pauseInvisible || !methods.pauseInvisible.isHidden()) {\r\n            (slider.vars.initDelay > 0) ? slider.startTimeout = setTimeout(slider.play, slider.vars.initDelay) : slider.play();\r\n          }\r\n        }\r\n\r\n        // ASNAV:\r\n        if (asNav) { methods.asNav.setup(); }\r\n\r\n        // TOUCH\r\n        if (touch && slider.vars.touch) { methods.touch(); }\r\n\r\n        // FADE&&SMOOTHHEIGHT || SLIDE:\r\n        if (!fade || (fade && slider.vars.smoothHeight)) { $(window).bind(\"resize orientationchange focus\", methods.resize()); }\r\n\r\n        slider.find(\"img\").attr(\"draggable\", \"false\");\r\n\r\n        // API: start() Callback\r\n        setTimeout(function(){\r\n          slider.vars.start(slider);\r\n        }, 200);\r\n      },\r\n      asNav: {\r\n        setup: function() {\r\n          slider.asNav = true;\r\n          slider.animatingTo = Math.floor(slider.currentSlide/slider.move);\r\n          slider.currentItem = slider.currentSlide;\r\n          slider.slides.removeClass(namespace + \"active-slide\").eq(slider.currentItem).addClass(namespace + \"active-slide\");\r\n          if(!msGesture){\r\n              slider.slides.on(eventType, function(e){\r\n                e.preventDefault();\r\n                var $slide = $(this),\r\n                    target = $slide.index();\r\n                var posFromLeft = $slide.offset().left - $(slider).scrollLeft(); // Find position of slide relative to left of slider container\r\n                if( posFromLeft <= 0 && $slide.hasClass( namespace + 'active-slide' ) ) {\r\n                  slider.flexAnimate(slider.getTarget(\"prev\"), true);\r\n                } else if (!$(slider.vars.asNavFor).data('flexslider').animating && !$slide.hasClass(namespace + \"active-slide\")) {\r\n                  slider.direction = (slider.currentItem < target) ? \"next\" : \"prev\";\r\n                  slider.flexAnimate(target, slider.vars.pauseOnAction, false, true, true);\r\n                }\r\n              });\r\n          }else{\r\n              el._slider = slider;\r\n              slider.slides.each(function (){\r\n                  var that = this;\r\n                  that._gesture = new MSGesture();\r\n                  that._gesture.target = that;\r\n                  that.addEventListener(\"MSPointerDown\", function (e){\r\n                      e.preventDefault();\r\n                      if(e.currentTarget._gesture) {\r\n                        e.currentTarget._gesture.addPointer(e.pointerId);\r\n                      }\r\n                  }, false);\r\n                  that.addEventListener(\"MSGestureTap\", function (e){\r\n                      e.preventDefault();\r\n                      var $slide = $(this),\r\n                          target = $slide.index();\r\n                      if (!$(slider.vars.asNavFor).data('flexslider').animating && !$slide.hasClass('active')) {\r\n                          slider.direction = (slider.currentItem < target) ? \"next\" : \"prev\";\r\n                          slider.flexAnimate(target, slider.vars.pauseOnAction, false, true, true);\r\n                      }\r\n                  });\r\n              });\r\n          }\r\n        }\r\n      },\r\n      controlNav: {\r\n        setup: function() {\r\n          if (!slider.manualControls) {\r\n            methods.controlNav.setupPaging();\r\n          } else { // MANUALCONTROLS:\r\n            methods.controlNav.setupManual();\r\n          }\r\n        },\r\n        setupPaging: function() {\r\n          var type = (slider.vars.controlNav === \"thumbnails\") ? 'control-thumbs' : 'control-paging',\r\n              j = 1,\r\n              item,\r\n              slide;\r\n\r\n          slider.controlNavScaffold = $('<ol class=\"'+ namespace + 'control-nav ' + namespace + type + '\"></ol>');\r\n\r\n          if (slider.pagingCount > 1) {\r\n            for (var i = 0; i < slider.pagingCount; i++) {\r\n              slide = slider.slides.eq(i);\r\n              if ( undefined === slide.attr( 'data-thumb-alt' ) ) { slide.attr( 'data-thumb-alt', '' ); }\r\n              var altText = ( '' !== slide.attr( 'data-thumb-alt' ) ) ? altText = ' alt=\"' + slide.attr( 'data-thumb-alt' ) + '\"' : '';\r\n              item = (slider.vars.controlNav === \"thumbnails\") ? '<img src=\"' + slide.attr( 'data-thumb' ) + '\"' + altText + '/>' : '<a href=\"#\">' + j + '</a>';\r\n              if ( 'thumbnails' === slider.vars.controlNav && true === slider.vars.thumbCaptions ) {\r\n                var captn = slide.attr( 'data-thumbcaption' );\r\n                if ( '' !== captn && undefined !== captn ) { item += '<span class=\"' + namespace + 'caption\">' + captn + '</span>'; }\r\n              }\r\n              slider.controlNavScaffold.append('<li>' + item + '</li>');\r\n              j++;\r\n            }\r\n          }\r\n\r\n          // CONTROLSCONTAINER:\r\n          (slider.controlsContainer) ? $(slider.controlsContainer).append(slider.controlNavScaffold) : slider.append(slider.controlNavScaffold);\r\n          methods.controlNav.set();\r\n\r\n          methods.controlNav.active();\r\n\r\n          slider.controlNavScaffold.delegate('a, img', eventType, function(event) {\r\n            event.preventDefault();\r\n\r\n            if (watchedEvent === \"\" || watchedEvent === event.type) {\r\n              var $this = $(this),\r\n                  target = slider.controlNav.index($this);\r\n\r\n              if (!$this.hasClass(namespace + 'active')) {\r\n                slider.direction = (target > slider.currentSlide) ? \"next\" : \"prev\";\r\n                slider.flexAnimate(target, slider.vars.pauseOnAction);\r\n              }\r\n            }\r\n\r\n            // setup flags to prevent event duplication\r\n            if (watchedEvent === \"\") {\r\n              watchedEvent = event.type;\r\n            }\r\n            methods.setToClearWatchedEvent();\r\n\r\n          });\r\n        },\r\n        setupManual: function() {\r\n          slider.controlNav = slider.manualControls;\r\n          methods.controlNav.active();\r\n\r\n          slider.controlNav.bind(eventType, function(event) {\r\n            event.preventDefault();\r\n\r\n            if (watchedEvent === \"\" || watchedEvent === event.type) {\r\n              var $this = $(this),\r\n                  target = slider.controlNav.index($this);\r\n\r\n              if (!$this.hasClass(namespace + 'active')) {\r\n                (target > slider.currentSlide) ? slider.direction = \"next\" : slider.direction = \"prev\";\r\n                slider.flexAnimate(target, slider.vars.pauseOnAction);\r\n              }\r\n            }\r\n\r\n            // setup flags to prevent event duplication\r\n            if (watchedEvent === \"\") {\r\n              watchedEvent = event.type;\r\n            }\r\n            methods.setToClearWatchedEvent();\r\n          });\r\n        },\r\n        set: function() {\r\n          var selector = (slider.vars.controlNav === \"thumbnails\") ? 'img' : 'a';\r\n          slider.controlNav = $('.' + namespace + 'control-nav li ' + selector, (slider.controlsContainer) ? slider.controlsContainer : slider);\r\n        },\r\n        active: function() {\r\n          slider.controlNav.removeClass(namespace + \"active\").eq(slider.animatingTo).addClass(namespace + \"active\");\r\n        },\r\n        update: function(action, pos) {\r\n          if (slider.pagingCount > 1 && action === \"add\") {\r\n            slider.controlNavScaffold.append($('<li><a href=\"#\">' + slider.count + '</a></li>'));\r\n          } else if (slider.pagingCount === 1) {\r\n            slider.controlNavScaffold.find('li').remove();\r\n          } else {\r\n            slider.controlNav.eq(pos).closest('li').remove();\r\n          }\r\n          methods.controlNav.set();\r\n          (slider.pagingCount > 1 && slider.pagingCount !== slider.controlNav.length) ? slider.update(pos, action) : methods.controlNav.active();\r\n        }\r\n      },\r\n      directionNav: {\r\n        setup: function() {\r\n          var directionNavScaffold = $('<ul class=\"' + namespace + 'direction-nav\"><li class=\"' + namespace + 'nav-prev\"><a class=\"' + namespace + 'prev\" href=\"#\"></a></li><li class=\"' + namespace + 'nav-next\"><a class=\"' + namespace + 'next\" href=\"#\"></a></li></ul>');\r\n\r\n          // CUSTOM DIRECTION NAV:\r\n          if (slider.customDirectionNav) {\r\n            slider.directionNav = slider.customDirectionNav;\r\n          // CONTROLSCONTAINER:\r\n          } else if (slider.controlsContainer) {\r\n            $(slider.controlsContainer).append(directionNavScaffold);\r\n            slider.directionNav = $('.' + namespace + 'direction-nav li a', slider.controlsContainer);\r\n          } else {\r\n            slider.append(directionNavScaffold);\r\n            slider.directionNav = $('.' + namespace + 'direction-nav li a', slider);\r\n          }\r\n\r\n          methods.directionNav.update();\r\n\r\n          slider.directionNav.bind(eventType, function(event) {\r\n            event.preventDefault();\r\n            var target;\r\n\r\n            if (watchedEvent === \"\" || watchedEvent === event.type) {\r\n              target = ($(this).hasClass(namespace + 'next')) ? slider.getTarget('next') : slider.getTarget('prev');\r\n              slider.flexAnimate(target, slider.vars.pauseOnAction);\r\n            }\r\n\r\n            // setup flags to prevent event duplication\r\n            if (watchedEvent === \"\") {\r\n              watchedEvent = event.type;\r\n            }\r\n            methods.setToClearWatchedEvent();\r\n          });\r\n        },\r\n        update: function() {\r\n          var disabledClass = namespace + 'disabled';\r\n          if (slider.pagingCount === 1) {\r\n            slider.directionNav.addClass(disabledClass).attr('tabindex', '-1');\r\n          } else if (!slider.vars.animationLoop) {\r\n            if (slider.animatingTo === 0) {\r\n              slider.directionNav.removeClass(disabledClass).filter('.' + namespace + \"prev\").addClass(disabledClass).attr('tabindex', '-1');\r\n            } else if (slider.animatingTo === slider.last) {\r\n              slider.directionNav.removeClass(disabledClass).filter('.' + namespace + \"next\").addClass(disabledClass).attr('tabindex', '-1');\r\n            } else {\r\n              slider.directionNav.removeClass(disabledClass).removeAttr('tabindex');\r\n            }\r\n          } else {\r\n            slider.directionNav.removeClass(disabledClass).removeAttr('tabindex');\r\n          }\r\n        }\r\n      },\r\n      pausePlay: {\r\n        setup: function() {\r\n          var pausePlayScaffold = $('<div class=\"' + namespace + 'pauseplay\"><a href=\"#\"></a></div>');\r\n\r\n          // CONTROLSCONTAINER:\r\n          if (slider.controlsContainer) {\r\n            slider.controlsContainer.append(pausePlayScaffold);\r\n            slider.pausePlay = $('.' + namespace + 'pauseplay a', slider.controlsContainer);\r\n          } else {\r\n            slider.append(pausePlayScaffold);\r\n            slider.pausePlay = $('.' + namespace + 'pauseplay a', slider);\r\n          }\r\n\r\n          methods.pausePlay.update((slider.vars.slideshow) ? namespace + 'pause' : namespace + 'play');\r\n\r\n          slider.pausePlay.bind(eventType, function(event) {\r\n            event.preventDefault();\r\n\r\n            if (watchedEvent === \"\" || watchedEvent === event.type) {\r\n              if ($(this).hasClass(namespace + 'pause')) {\r\n                slider.manualPause = true;\r\n                slider.manualPlay = false;\r\n                slider.pause();\r\n              } else {\r\n                slider.manualPause = false;\r\n                slider.manualPlay = true;\r\n                slider.play();\r\n              }\r\n            }\r\n\r\n            // setup flags to prevent event duplication\r\n            if (watchedEvent === \"\") {\r\n              watchedEvent = event.type;\r\n            }\r\n            methods.setToClearWatchedEvent();\r\n          });\r\n        },\r\n        update: function(state) {\r\n          (state === \"play\") ? slider.pausePlay.removeClass(namespace + 'pause').addClass(namespace + 'play').html(slider.vars.playText) : slider.pausePlay.removeClass(namespace + 'play').addClass(namespace + 'pause').html(slider.vars.pauseText);\r\n        }\r\n      },\r\n      touch: function() {\r\n        var startX,\r\n          startY,\r\n          offset,\r\n          cwidth,\r\n          dx,\r\n          startT,\r\n          onTouchStart,\r\n          onTouchMove,\r\n          onTouchEnd,\r\n          scrolling = false,\r\n          localX = 0,\r\n          localY = 0,\r\n          accDx = 0;\r\n\r\n        if(!msGesture){\r\n            onTouchStart = function(e) {\r\n              if (slider.animating) {\r\n                e.preventDefault();\r\n              } else if ( ( window.navigator.msPointerEnabled ) || e.touches.length === 1 ) {\r\n                slider.pause();\r\n                // CAROUSEL:\r\n                cwidth = (vertical) ? slider.h : slider. w;\r\n                startT = Number(new Date());\r\n                // CAROUSEL:\r\n\r\n                // Local vars for X and Y points.\r\n                localX = e.touches[0].pageX;\r\n                localY = e.touches[0].pageY;\r\n\r\n                offset = (carousel && reverse && slider.animatingTo === slider.last) ? 0 :\r\n                         (carousel && reverse) ? slider.limit - (((slider.itemW + slider.vars.itemMargin) * slider.move) * slider.animatingTo) :\r\n                         (carousel && slider.currentSlide === slider.last) ? slider.limit :\r\n                         (carousel) ? ((slider.itemW + slider.vars.itemMargin) * slider.move) * slider.currentSlide :\r\n                         (reverse) ? (slider.last - slider.currentSlide + slider.cloneOffset) * cwidth : (slider.currentSlide + slider.cloneOffset) * cwidth;\r\n                startX = (vertical) ? localY : localX;\r\n                startY = (vertical) ? localX : localY;\r\n\r\n                el.addEventListener('touchmove', onTouchMove, false);\r\n                el.addEventListener('touchend', onTouchEnd, false);\r\n              }\r\n            };\r\n\r\n            onTouchMove = function(e) {\r\n              // Local vars for X and Y points.\r\n\r\n              localX = e.touches[0].pageX;\r\n              localY = e.touches[0].pageY;\r\n\r\n              dx = (vertical) ? startX - localY : startX - localX;\r\n              scrolling = (vertical) ? (Math.abs(dx) < Math.abs(localX - startY)) : (Math.abs(dx) < Math.abs(localY - startY));\r\n\r\n              var fxms = 500;\r\n\r\n              if ( ! scrolling || Number( new Date() ) - startT > fxms ) {\r\n                e.preventDefault();\r\n                if (!fade && slider.transitions) {\r\n                  if (!slider.vars.animationLoop) {\r\n                    dx = dx/((slider.currentSlide === 0 && dx < 0 || slider.currentSlide === slider.last && dx > 0) ? (Math.abs(dx)/cwidth+2) : 1);\r\n                  }\r\n                  slider.setProps(offset + dx, \"setTouch\");\r\n                }\r\n              }\r\n            };\r\n\r\n            onTouchEnd = function(e) {\r\n              // finish the touch by undoing the touch session\r\n              el.removeEventListener('touchmove', onTouchMove, false);\r\n\r\n              if (slider.animatingTo === slider.currentSlide && !scrolling && !(dx === null)) {\r\n                var updateDx = (reverse) ? -dx : dx,\r\n                    target = (updateDx > 0) ? slider.getTarget('next') : slider.getTarget('prev');\r\n\r\n                if (slider.canAdvance(target) && (Number(new Date()) - startT < 550 && Math.abs(updateDx) > 50 || Math.abs(updateDx) > cwidth/2)) {\r\n                  slider.flexAnimate(target, slider.vars.pauseOnAction);\r\n                } else {\r\n                  if (!fade) { slider.flexAnimate(slider.currentSlide, slider.vars.pauseOnAction, true); }\r\n                }\r\n              }\r\n              el.removeEventListener('touchend', onTouchEnd, false);\r\n\r\n              startX = null;\r\n              startY = null;\r\n              dx = null;\r\n              offset = null;\r\n            };\r\n\r\n            el.addEventListener('touchstart', onTouchStart, false);\r\n        }else{\r\n            el.style.msTouchAction = \"none\";\r\n            el._gesture = new MSGesture();\r\n            el._gesture.target = el;\r\n            el.addEventListener(\"MSPointerDown\", onMSPointerDown, false);\r\n            el._slider = slider;\r\n            el.addEventListener(\"MSGestureChange\", onMSGestureChange, false);\r\n            el.addEventListener(\"MSGestureEnd\", onMSGestureEnd, false);\r\n\r\n            function onMSPointerDown(e){\r\n                e.stopPropagation();\r\n                if (slider.animating) {\r\n                    e.preventDefault();\r\n                }else{\r\n                    slider.pause();\r\n                    el._gesture.addPointer(e.pointerId);\r\n                    accDx = 0;\r\n                    cwidth = (vertical) ? slider.h : slider. w;\r\n                    startT = Number(new Date());\r\n                    // CAROUSEL:\r\n\r\n                    offset = (carousel && reverse && slider.animatingTo === slider.last) ? 0 :\r\n                        (carousel && reverse) ? slider.limit - (((slider.itemW + slider.vars.itemMargin) * slider.move) * slider.animatingTo) :\r\n                            (carousel && slider.currentSlide === slider.last) ? slider.limit :\r\n                                (carousel) ? ((slider.itemW + slider.vars.itemMargin) * slider.move) * slider.currentSlide :\r\n                                    (reverse) ? (slider.last - slider.currentSlide + slider.cloneOffset) * cwidth : (slider.currentSlide + slider.cloneOffset) * cwidth;\r\n                }\r\n            }\r\n\r\n            function onMSGestureChange(e) {\r\n                e.stopPropagation();\r\n                var slider = e.target._slider;\r\n                if(!slider){\r\n                    return;\r\n                }\r\n                var transX = -e.translationX,\r\n                    transY = -e.translationY;\r\n\r\n                //Accumulate translations.\r\n                accDx = accDx + ((vertical) ? transY : transX);\r\n                dx = accDx;\r\n                scrolling = (vertical) ? (Math.abs(accDx) < Math.abs(-transX)) : (Math.abs(accDx) < Math.abs(-transY));\r\n\r\n                if(e.detail === e.MSGESTURE_FLAG_INERTIA){\r\n                    setImmediate(function (){\r\n                        el._gesture.stop();\r\n                    });\r\n\r\n                    return;\r\n                }\r\n\r\n                if (!scrolling || Number(new Date()) - startT > 500) {\r\n                    e.preventDefault();\r\n                    if (!fade && slider.transitions) {\r\n                        if (!slider.vars.animationLoop) {\r\n                            dx = accDx / ((slider.currentSlide === 0 && accDx < 0 || slider.currentSlide === slider.last && accDx > 0) ? (Math.abs(accDx) / cwidth + 2) : 1);\r\n                        }\r\n                        slider.setProps(offset + dx, \"setTouch\");\r\n                    }\r\n                }\r\n            }\r\n\r\n            function onMSGestureEnd(e) {\r\n                e.stopPropagation();\r\n                var slider = e.target._slider;\r\n                if(!slider){\r\n                    return;\r\n                }\r\n                if (slider.animatingTo === slider.currentSlide && !scrolling && !(dx === null)) {\r\n                    var updateDx = (reverse) ? -dx : dx,\r\n                        target = (updateDx > 0) ? slider.getTarget('next') : slider.getTarget('prev');\r\n\r\n                    if (slider.canAdvance(target) && (Number(new Date()) - startT < 550 && Math.abs(updateDx) > 50 || Math.abs(updateDx) > cwidth/2)) {\r\n                        slider.flexAnimate(target, slider.vars.pauseOnAction);\r\n                    } else {\r\n                        if (!fade) { slider.flexAnimate(slider.currentSlide, slider.vars.pauseOnAction, true); }\r\n                    }\r\n                }\r\n\r\n                startX = null;\r\n                startY = null;\r\n                dx = null;\r\n                offset = null;\r\n                accDx = 0;\r\n            }\r\n        }\r\n      },\r\n      resize: function() {\r\n        if (!slider.animating && slider.is(':visible')) {\r\n          if (!carousel) { slider.doMath(); }\r\n\r\n          if (fade) {\r\n            // SMOOTH HEIGHT:\r\n            methods.smoothHeight();\r\n          } else if (carousel) { //CAROUSEL:\r\n            slider.slides.width(slider.computedW);\r\n            slider.update(slider.pagingCount);\r\n            slider.setProps();\r\n          }\r\n          else if (vertical) { //VERTICAL:\r\n            slider.viewport.height(slider.h);\r\n            slider.setProps(slider.h, \"setTotal\");\r\n          } else {\r\n            // SMOOTH HEIGHT:\r\n            if (slider.vars.smoothHeight) { methods.smoothHeight(); }\r\n            slider.newSlides.width(slider.computedW);\r\n            slider.setProps(slider.computedW, \"setTotal\");\r\n          }\r\n        }\r\n      },\r\n      smoothHeight: function(dur) {\r\n        if (!vertical || fade) {\r\n          var $obj = (fade) ? slider : slider.viewport;\r\n          (dur) ? $obj.animate({\"height\": slider.slides.eq(slider.animatingTo).innerHeight()}, dur) : $obj.innerHeight(slider.slides.eq(slider.animatingTo).innerHeight());\r\n        }\r\n      },\r\n      sync: function(action) {\r\n        var $obj = $(slider.vars.sync).data(\"flexslider\"),\r\n            target = slider.animatingTo;\r\n\r\n        switch (action) {\r\n          case \"animate\": $obj.flexAnimate(target, slider.vars.pauseOnAction, false, true); break;\r\n          case \"play\": if (!$obj.playing && !$obj.asNav) { $obj.play(); } break;\r\n          case \"pause\": $obj.pause(); break;\r\n        }\r\n      },\r\n      uniqueID: function($clone) {\r\n        // Append _clone to current level and children elements with id attributes\r\n        $clone.filter( '[id]' ).add($clone.find( '[id]' )).each(function() {\r\n          var $this = $(this);\r\n          $this.attr( 'id', $this.attr( 'id' ) + '_clone' );\r\n        });\r\n        return $clone;\r\n      },\r\n      pauseInvisible: {\r\n        visProp: null,\r\n        init: function() {\r\n          var visProp = methods.pauseInvisible.getHiddenProp();\r\n          if (visProp) {\r\n            var evtname = visProp.replace(/[H|h]idden/,'') + 'visibilitychange';\r\n            document.addEventListener(evtname, function() {\r\n              if (methods.pauseInvisible.isHidden()) {\r\n                if(slider.startTimeout) {\r\n                  clearTimeout(slider.startTimeout); //If clock is ticking, stop timer and prevent from starting while invisible\r\n                } else {\r\n                  slider.pause(); //Or just pause\r\n                }\r\n              }\r\n              else {\r\n                if(slider.started) {\r\n                  slider.play(); //Initiated before, just play\r\n                } else {\r\n                  if (slider.vars.initDelay > 0) {\r\n                    setTimeout(slider.play, slider.vars.initDelay);\r\n                  } else {\r\n                    slider.play(); //Didn't init before: simply init or wait for it\r\n                  }\r\n                }\r\n              }\r\n            });\r\n          }\r\n        },\r\n        isHidden: function() {\r\n          var prop = methods.pauseInvisible.getHiddenProp();\r\n          if (!prop) {\r\n            return false;\r\n          }\r\n          return document[prop];\r\n        },\r\n        getHiddenProp: function() {\r\n          var prefixes = ['webkit','moz','ms','o'];\r\n          // if 'hidden' is natively supported just return it\r\n          if ('hidden' in document) {\r\n            return 'hidden';\r\n          }\r\n          // otherwise loop over all the known prefixes until we find one\r\n          for ( var i = 0; i < prefixes.length; i++ ) {\r\n              if ((prefixes[i] + 'Hidden') in document) {\r\n                return prefixes[i] + 'Hidden';\r\n              }\r\n          }\r\n          // otherwise it's not supported\r\n          return null;\r\n        }\r\n      },\r\n      setToClearWatchedEvent: function() {\r\n        clearTimeout(watchedEventClearTimer);\r\n        watchedEventClearTimer = setTimeout(function() {\r\n          watchedEvent = \"\";\r\n        }, 3000);\r\n      }\r\n    };\r\n\r\n    // public methods\r\n    slider.flexAnimate = function(target, pause, override, withSync, fromNav) {\r\n      if (!slider.vars.animationLoop && target !== slider.currentSlide) {\r\n        slider.direction = (target > slider.currentSlide) ? \"next\" : \"prev\";\r\n      }\r\n\r\n      if (asNav && slider.pagingCount === 1) slider.direction = (slider.currentItem < target) ? \"next\" : \"prev\";\r\n\r\n      if (!slider.animating && (slider.canAdvance(target, fromNav) || override) && slider.is(\":visible\")) {\r\n        if (asNav && withSync) {\r\n          var master = $(slider.vars.asNavFor).data('flexslider');\r\n          slider.atEnd = target === 0 || target === slider.count - 1;\r\n          master.flexAnimate(target, true, false, true, fromNav);\r\n          slider.direction = (slider.currentItem < target) ? \"next\" : \"prev\";\r\n          master.direction = slider.direction;\r\n\r\n          if (Math.ceil((target + 1)/slider.visible) - 1 !== slider.currentSlide && target !== 0) {\r\n            slider.currentItem = target;\r\n            slider.slides.removeClass(namespace + \"active-slide\").eq(target).addClass(namespace + \"active-slide\");\r\n            target = Math.floor(target/slider.visible);\r\n          } else {\r\n            slider.currentItem = target;\r\n            slider.slides.removeClass(namespace + \"active-slide\").eq(target).addClass(namespace + \"active-slide\");\r\n            return false;\r\n          }\r\n        }\r\n\r\n        slider.animating = true;\r\n        slider.animatingTo = target;\r\n\r\n        // SLIDESHOW:\r\n        if (pause) { slider.pause(); }\r\n\r\n        // API: before() animation Callback\r\n        slider.vars.before(slider);\r\n\r\n        // SYNC:\r\n        if (slider.syncExists && !fromNav) { methods.sync(\"animate\"); }\r\n\r\n        // CONTROLNAV\r\n        if (slider.vars.controlNav) { methods.controlNav.active(); }\r\n\r\n        // !CAROUSEL:\r\n        // CANDIDATE: slide active class (for add/remove slide)\r\n        if (!carousel) { slider.slides.removeClass(namespace + 'active-slide').eq(target).addClass(namespace + 'active-slide'); }\r\n\r\n        // INFINITE LOOP:\r\n        // CANDIDATE: atEnd\r\n        slider.atEnd = target === 0 || target === slider.last;\r\n\r\n        // DIRECTIONNAV:\r\n        if (slider.vars.directionNav) { methods.directionNav.update(); }\r\n\r\n        if (target === slider.last) {\r\n          // API: end() of cycle Callback\r\n          slider.vars.end(slider);\r\n          // SLIDESHOW && !INFINITE LOOP:\r\n          if (!slider.vars.animationLoop) { slider.pause(); }\r\n        }\r\n\r\n        // SLIDE:\r\n        if (!fade) {\r\n          var dimension = (vertical) ? slider.slides.filter(':first').height() : slider.computedW,\r\n              margin, slideString, calcNext;\r\n\r\n          // INFINITE LOOP / REVERSE:\r\n          if (carousel) {\r\n            margin = slider.vars.itemMargin;\r\n            calcNext = ((slider.itemW + margin) * slider.move) * slider.animatingTo;\r\n            slideString = (calcNext > slider.limit && slider.visible !== 1) ? slider.limit : calcNext;\r\n          } else if (slider.currentSlide === 0 && target === slider.count - 1 && slider.vars.animationLoop && slider.direction !== \"next\") {\r\n            slideString = (reverse) ? (slider.count + slider.cloneOffset) * dimension : 0;\r\n          } else if (slider.currentSlide === slider.last && target === 0 && slider.vars.animationLoop && slider.direction !== \"prev\") {\r\n            slideString = (reverse) ? 0 : (slider.count + 1) * dimension;\r\n          } else {\r\n            slideString = (reverse) ? ((slider.count - 1) - target + slider.cloneOffset) * dimension : (target + slider.cloneOffset) * dimension;\r\n          }\r\n          slider.setProps(slideString, \"\", slider.vars.animationSpeed);\r\n          if (slider.transitions) {\r\n            if (!slider.vars.animationLoop || !slider.atEnd) {\r\n              slider.animating = false;\r\n              slider.currentSlide = slider.animatingTo;\r\n            }\r\n\r\n            // Unbind previous transitionEnd events and re-bind new transitionEnd event\r\n            slider.container.unbind(\"webkitTransitionEnd transitionend\");\r\n            slider.container.bind(\"webkitTransitionEnd transitionend\", function() {\r\n              clearTimeout(slider.ensureAnimationEnd);\r\n              slider.wrapup(dimension);\r\n            });\r\n\r\n            // Insurance for the ever-so-fickle transitionEnd event\r\n            clearTimeout(slider.ensureAnimationEnd);\r\n            slider.ensureAnimationEnd = setTimeout(function() {\r\n              slider.wrapup(dimension);\r\n            }, slider.vars.animationSpeed + 100);\r\n\r\n          } else {\r\n            slider.container.animate(slider.args, slider.vars.animationSpeed, slider.vars.easing, function(){\r\n              slider.wrapup(dimension);\r\n            });\r\n          }\r\n        } else { // FADE:\r\n          if (!touch) {\r\n            slider.slides.eq(slider.currentSlide).css({\"zIndex\": 1}).animate({\"opacity\": 0}, slider.vars.animationSpeed, slider.vars.easing);\r\n            slider.slides.eq(target).css({\"zIndex\": 2}).animate({\"opacity\": 1}, slider.vars.animationSpeed, slider.vars.easing, slider.wrapup);\r\n          } else {\r\n            slider.slides.eq(slider.currentSlide).css({ \"opacity\": 0, \"zIndex\": 1 });\r\n            slider.slides.eq(target).css({ \"opacity\": 1, \"zIndex\": 2 });\r\n            slider.wrapup(dimension);\r\n          }\r\n        }\r\n        // SMOOTH HEIGHT:\r\n        if (slider.vars.smoothHeight) { methods.smoothHeight(slider.vars.animationSpeed); }\r\n      }\r\n    };\r\n    slider.wrapup = function(dimension) {\r\n      // SLIDE:\r\n      if (!fade && !carousel) {\r\n        if (slider.currentSlide === 0 && slider.animatingTo === slider.last && slider.vars.animationLoop) {\r\n          slider.setProps(dimension, \"jumpEnd\");\r\n        } else if (slider.currentSlide === slider.last && slider.animatingTo === 0 && slider.vars.animationLoop) {\r\n          slider.setProps(dimension, \"jumpStart\");\r\n        }\r\n      }\r\n      slider.animating = false;\r\n      slider.currentSlide = slider.animatingTo;\r\n      // API: after() animation Callback\r\n      slider.vars.after(slider);\r\n    };\r\n\r\n    // SLIDESHOW:\r\n    slider.animateSlides = function() {\r\n      if (!slider.animating && focused ) { slider.flexAnimate(slider.getTarget(\"next\")); }\r\n    };\r\n    // SLIDESHOW:\r\n    slider.pause = function() {\r\n      clearInterval(slider.animatedSlides);\r\n      slider.animatedSlides = null;\r\n      slider.playing = false;\r\n      // PAUSEPLAY:\r\n      if (slider.vars.pausePlay) { methods.pausePlay.update(\"play\"); }\r\n      // SYNC:\r\n      if (slider.syncExists) { methods.sync(\"pause\"); }\r\n    };\r\n    // SLIDESHOW:\r\n    slider.play = function() {\r\n      if (slider.playing) { clearInterval(slider.animatedSlides); }\r\n      slider.animatedSlides = slider.animatedSlides || setInterval(slider.animateSlides, slider.vars.slideshowSpeed);\r\n      slider.started = slider.playing = true;\r\n      // PAUSEPLAY:\r\n      if (slider.vars.pausePlay) { methods.pausePlay.update(\"pause\"); }\r\n      // SYNC:\r\n      if (slider.syncExists) { methods.sync(\"play\"); }\r\n    };\r\n    // STOP:\r\n    slider.stop = function () {\r\n      slider.pause();\r\n      slider.stopped = true;\r\n    };\r\n    slider.canAdvance = function(target, fromNav) {\r\n      // ASNAV:\r\n      var last = (asNav) ? slider.pagingCount - 1 : slider.last;\r\n      return (fromNav) ? true :\r\n             (asNav && slider.currentItem === slider.count - 1 && target === 0 && slider.direction === \"prev\") ? true :\r\n             (asNav && slider.currentItem === 0 && target === slider.pagingCount - 1 && slider.direction !== \"next\") ? false :\r\n             (target === slider.currentSlide && !asNav) ? false :\r\n             (slider.vars.animationLoop) ? true :\r\n             (slider.atEnd && slider.currentSlide === 0 && target === last && slider.direction !== \"next\") ? false :\r\n             (slider.atEnd && slider.currentSlide === last && target === 0 && slider.direction === \"next\") ? false :\r\n             true;\r\n    };\r\n    slider.getTarget = function(dir) {\r\n      slider.direction = dir;\r\n      if (dir === \"next\") {\r\n        return (slider.currentSlide === slider.last) ? 0 : slider.currentSlide + 1;\r\n      } else {\r\n        return (slider.currentSlide === 0) ? slider.last : slider.currentSlide - 1;\r\n      }\r\n    };\r\n\r\n    // SLIDE:\r\n    slider.setProps = function(pos, special, dur) {\r\n      var target = (function() {\r\n        var posCheck = (pos) ? pos : ((slider.itemW + slider.vars.itemMargin) * slider.move) * slider.animatingTo,\r\n            posCalc = (function() {\r\n              if (carousel) {\r\n                return (special === \"setTouch\") ? pos :\r\n                       (reverse && slider.animatingTo === slider.last) ? 0 :\r\n                       (reverse) ? slider.limit - (((slider.itemW + slider.vars.itemMargin) * slider.move) * slider.animatingTo) :\r\n                       (slider.animatingTo === slider.last) ? slider.limit : posCheck;\r\n              } else {\r\n                switch (special) {\r\n                  case \"setTotal\": return (reverse) ? ((slider.count - 1) - slider.currentSlide + slider.cloneOffset) * pos : (slider.currentSlide + slider.cloneOffset) * pos;\r\n                  case \"setTouch\": return (reverse) ? pos : pos;\r\n                  case \"jumpEnd\": return (reverse) ? pos : slider.count * pos;\r\n                  case \"jumpStart\": return (reverse) ? slider.count * pos : pos;\r\n                  default: return pos;\r\n                }\r\n              }\r\n            }());\r\n\r\n            return (posCalc * -1) + \"px\";\r\n          }());\r\n\r\n      if (slider.transitions) {\r\n        target = (vertical) ? \"translate3d(0,\" + target + \",0)\" : \"translate3d(\" + target + \",0,0)\";\r\n        dur = (dur !== undefined) ? (dur/1000) + \"s\" : \"0s\";\r\n        slider.container.css(\"-\" + slider.pfx + \"-transition-duration\", dur);\r\n         slider.container.css(\"transition-duration\", dur);\r\n      }\r\n\r\n      slider.args[slider.prop] = target;\r\n      if (slider.transitions || dur === undefined) { slider.container.css(slider.args); }\r\n\r\n      slider.container.css('transform',target);\r\n    };\r\n\r\n    slider.setup = function(type) {\r\n      // SLIDE:\r\n      if (!fade) {\r\n        var sliderOffset, arr;\r\n\r\n        if (type === \"init\") {\r\n          slider.viewport = $('<div class=\"' + namespace + 'viewport\"></div>').css({\"overflow\": \"hidden\", \"position\": \"relative\"}).appendTo(slider).append(slider.container);\r\n          // INFINITE LOOP:\r\n          slider.cloneCount = 0;\r\n          slider.cloneOffset = 0;\r\n          // REVERSE:\r\n          if (reverse) {\r\n            arr = $.makeArray(slider.slides).reverse();\r\n            slider.slides = $(arr);\r\n            slider.container.empty().append(slider.slides);\r\n          }\r\n        }\r\n        // INFINITE LOOP && !CAROUSEL:\r\n        if (slider.vars.animationLoop && !carousel) {\r\n          slider.cloneCount = 2;\r\n          slider.cloneOffset = 1;\r\n          // clear out old clones\r\n          if (type !== \"init\") { slider.container.find('.clone').remove(); }\r\n          slider.container.append(methods.uniqueID(slider.slides.first().clone().addClass('clone')).attr('aria-hidden', 'true'))\r\n                          .prepend(methods.uniqueID(slider.slides.last().clone().addClass('clone')).attr('aria-hidden', 'true'));\r\n        }\r\n        slider.newSlides = $(slider.vars.selector, slider);\r\n\r\n        sliderOffset = (reverse) ? slider.count - 1 - slider.currentSlide + slider.cloneOffset : slider.currentSlide + slider.cloneOffset;\r\n        // VERTICAL:\r\n        if (vertical && !carousel) {\r\n          slider.container.height((slider.count + slider.cloneCount) * 200 + \"%\").css(\"position\", \"absolute\").width(\"100%\");\r\n          setTimeout(function(){\r\n            slider.newSlides.css({\"display\": \"block\"});\r\n            slider.doMath();\r\n            slider.viewport.height(slider.h);\r\n            slider.setProps(sliderOffset * slider.h, \"init\");\r\n          }, (type === \"init\") ? 100 : 0);\r\n        } else {\r\n          slider.container.width((slider.count + slider.cloneCount) * 200 + \"%\");\r\n          slider.setProps(sliderOffset * slider.computedW, \"init\");\r\n          setTimeout(function(){\r\n            slider.doMath();\r\n            slider.newSlides.css({\"width\": slider.computedW, \"marginRight\" : slider.computedM, \"float\": \"left\", \"display\": \"block\"});\r\n            // SMOOTH HEIGHT:\r\n            if (slider.vars.smoothHeight) { methods.smoothHeight(); }\r\n          }, (type === \"init\") ? 100 : 0);\r\n        }\r\n      } else { // FADE:\r\n        slider.slides.css({\"width\": \"100%\", \"float\": \"left\", \"marginRight\": \"-100%\", \"position\": \"relative\"});\r\n        if (type === \"init\") {\r\n          if (!touch) {\r\n            //slider.slides.eq(slider.currentSlide).fadeIn(slider.vars.animationSpeed, slider.vars.easing);\r\n            if (slider.vars.fadeFirstSlide == false) {\r\n              slider.slides.css({ \"opacity\": 0, \"display\": \"block\", \"zIndex\": 1 }).eq(slider.currentSlide).css({\"zIndex\": 2}).css({\"opacity\": 1});\r\n            } else {\r\n              slider.slides.css({ \"opacity\": 0, \"display\": \"block\", \"zIndex\": 1 }).eq(slider.currentSlide).css({\"zIndex\": 2}).animate({\"opacity\": 1},slider.vars.animationSpeed,slider.vars.easing);\r\n            }\r\n          } else {\r\n            slider.slides.css({ \"opacity\": 0, \"display\": \"block\", \"webkitTransition\": \"opacity \" + slider.vars.animationSpeed / 1000 + \"s ease\", \"zIndex\": 1 }).eq(slider.currentSlide).css({ \"opacity\": 1, \"zIndex\": 2});\r\n          }\r\n        }\r\n        // SMOOTH HEIGHT:\r\n        if (slider.vars.smoothHeight) { methods.smoothHeight(); }\r\n      }\r\n      // !CAROUSEL:\r\n      // CANDIDATE: active slide\r\n      if (!carousel) { slider.slides.removeClass(namespace + \"active-slide\").eq(slider.currentSlide).addClass(namespace + \"active-slide\"); }\r\n\r\n      //FlexSlider: init() Callback\r\n      slider.vars.init(slider);\r\n    };\r\n\r\n    slider.doMath = function() {\r\n      var slide = slider.slides.first(),\r\n          slideMargin = slider.vars.itemMargin,\r\n          minItems = slider.vars.minItems,\r\n          maxItems = slider.vars.maxItems;\r\n\r\n      slider.w = (slider.viewport===undefined) ? slider.width() : slider.viewport.width();\r\n      slider.h = slide.height();\r\n      slider.boxPadding = slide.outerWidth() - slide.width();\r\n\r\n      // CAROUSEL:\r\n      if (carousel) {\r\n        slider.itemT = slider.vars.itemWidth + slideMargin;\r\n        slider.itemM = slideMargin;\r\n        slider.minW = (minItems) ? minItems * slider.itemT : slider.w;\r\n        slider.maxW = (maxItems) ? (maxItems * slider.itemT) - slideMargin : slider.w;\r\n        slider.itemW = (slider.minW > slider.w) ? (slider.w - (slideMargin * (minItems - 1)))/minItems :\r\n                       (slider.maxW < slider.w) ? (slider.w - (slideMargin * (maxItems - 1)))/maxItems :\r\n                       (slider.vars.itemWidth > slider.w) ? slider.w : slider.vars.itemWidth;\r\n\r\n        slider.visible = Math.floor(slider.w/(slider.itemW));\r\n        slider.move = (slider.vars.move > 0 && slider.vars.move < slider.visible ) ? slider.vars.move : slider.visible;\r\n        slider.pagingCount = Math.ceil(((slider.count - slider.visible)/slider.move) + 1);\r\n        slider.last =  slider.pagingCount - 1;\r\n        slider.limit = (slider.pagingCount === 1) ? 0 :\r\n                       (slider.vars.itemWidth > slider.w) ? (slider.itemW * (slider.count - 1)) + (slideMargin * (slider.count - 1)) : ((slider.itemW + slideMargin) * slider.count) - slider.w - slideMargin;\r\n      } else {\r\n        slider.itemW = slider.w;\r\n        slider.itemM = slideMargin;\r\n        slider.pagingCount = slider.count;\r\n        slider.last = slider.count - 1;\r\n      }\r\n      slider.computedW = slider.itemW - 5;\r\n      slider.computedM = slider.itemM;\r\n    };\r\n\r\n    slider.update = function(pos, action) {\r\n      slider.doMath();\r\n\r\n      // update currentSlide and slider.animatingTo if necessary\r\n      if (!carousel) {\r\n        if (pos < slider.currentSlide) {\r\n          slider.currentSlide += 1;\r\n        } else if (pos <= slider.currentSlide && pos !== 0) {\r\n          slider.currentSlide -= 1;\r\n        }\r\n        slider.animatingTo = slider.currentSlide;\r\n      }\r\n\r\n      // update controlNav\r\n      if (slider.vars.controlNav && !slider.manualControls) {\r\n        if ((action === \"add\" && !carousel) || slider.pagingCount > slider.controlNav.length) {\r\n          methods.controlNav.update(\"add\");\r\n        } else if ((action === \"remove\" && !carousel) || slider.pagingCount < slider.controlNav.length) {\r\n          if (carousel && slider.currentSlide > slider.last) {\r\n            slider.currentSlide -= 1;\r\n            slider.animatingTo -= 1;\r\n          }\r\n          methods.controlNav.update(\"remove\", slider.last);\r\n        }\r\n      }\r\n      // update directionNav\r\n      if (slider.vars.directionNav) { methods.directionNav.update(); }\r\n\r\n    };\r\n\r\n    slider.addSlide = function(obj, pos) {\r\n      var $obj = $(obj);\r\n\r\n      slider.count += 1;\r\n      slider.last = slider.count - 1;\r\n\r\n      // append new slide\r\n      if (vertical && reverse) {\r\n        (pos !== undefined) ? slider.slides.eq(slider.count - pos).after($obj) : slider.container.prepend($obj);\r\n      } else {\r\n        (pos !== undefined) ? slider.slides.eq(pos).before($obj) : slider.container.append($obj);\r\n      }\r\n\r\n      // update currentSlide, animatingTo, controlNav, and directionNav\r\n      slider.update(pos, \"add\");\r\n\r\n      // update slider.slides\r\n      slider.slides = $(slider.vars.selector + ':not(.clone)', slider);\r\n      // re-setup the slider to accomdate new slide\r\n      slider.setup();\r\n\r\n      //FlexSlider: added() Callback\r\n      slider.vars.added(slider);\r\n    };\r\n    slider.removeSlide = function(obj) {\r\n      var pos = (isNaN(obj)) ? slider.slides.index($(obj)) : obj;\r\n\r\n      // update count\r\n      slider.count -= 1;\r\n      slider.last = slider.count - 1;\r\n\r\n      // remove slide\r\n      if (isNaN(obj)) {\r\n        $(obj, slider.slides).remove();\r\n      } else {\r\n        (vertical && reverse) ? slider.slides.eq(slider.last).remove() : slider.slides.eq(obj).remove();\r\n      }\r\n\r\n      // update currentSlide, animatingTo, controlNav, and directionNav\r\n      slider.doMath();\r\n      slider.update(pos, \"remove\");\r\n\r\n      // update slider.slides\r\n      slider.slides = $(slider.vars.selector + ':not(.clone)', slider);\r\n      // re-setup the slider to accomdate new slide\r\n      slider.setup();\r\n\r\n      // FlexSlider: removed() Callback\r\n      slider.vars.removed(slider);\r\n    };\r\n\r\n    //FlexSlider: Initialize\r\n    methods.init();\r\n  };\r\n\r\n  // Ensure the slider isn't focussed if the window loses focus.\r\n  $( window ).blur( function ( e ) {\r\n    focused = false;\r\n  }).focus( function ( e ) {\r\n    focused = true;\r\n  });\r\n\r\n  //FlexSlider: Default Settings\r\n  $.flexslider.defaults = {\r\n    namespace: \"flex-\",             //{NEW} String: Prefix string attached to the class of every element generated by the plugin\r\n    selector: \".slides > li\",       //{NEW} Selector: Must match a simple pattern. '{container} > {slide}' -- Ignore pattern at your own peril\r\n    animation: \"fade\",              //String: Select your animation type, \"fade\" or \"slide\"\r\n    easing: \"swing\",                //{NEW} String: Determines the easing method used in jQuery transitions. jQuery easing plugin is supported!\r\n    direction: \"horizontal\",        //String: Select the sliding direction, \"horizontal\" or \"vertical\"\r\n    reverse: false,                 //{NEW} Boolean: Reverse the animation direction\r\n    animationLoop: true,            //Boolean: Should the animation loop? If false, directionNav will received \"disable\" classes at either end\r\n    smoothHeight: false,            //{NEW} Boolean: Allow height of the slider to animate smoothly in horizontal mode\r\n    startAt: 0,                     //Integer: The slide that the slider should start on. Array notation (0 = first slide)\r\n    slideshow: true,                //Boolean: Animate slider automatically\r\n    slideshowSpeed: 7000,           //Integer: Set the speed of the slideshow cycling, in milliseconds\r\n    animationSpeed: 600,            //Integer: Set the speed of animations, in milliseconds\r\n    initDelay: 0,                   //{NEW} Integer: Set an initialization delay, in milliseconds\r\n    randomize: false,               //Boolean: Randomize slide order\r\n    fadeFirstSlide: true,           //Boolean: Fade in the first slide when animation type is \"fade\"\r\n    thumbCaptions: false,           //Boolean: Whether or not to put captions on thumbnails when using the \"thumbnails\" controlNav.\r\n\r\n    // Usability features\r\n    pauseOnAction: true,            //Boolean: Pause the slideshow when interacting with control elements, highly recommended.\r\n    pauseOnHover: false,            //Boolean: Pause the slideshow when hovering over slider, then resume when no longer hovering\r\n    pauseInvisible: true,   \t\t//{NEW} Boolean: Pause the slideshow when tab is invisible, resume when visible. Provides better UX, lower CPU usage.\r\n    useCSS: true,                   //{NEW} Boolean: Slider will use CSS3 transitions if available\r\n    touch: true,                    //{NEW} Boolean: Allow touch swipe navigation of the slider on touch-enabled devices\r\n    video: false,                   //{NEW} Boolean: If using video in the slider, will prevent CSS3 3D Transforms to avoid graphical glitches\r\n\r\n    // Primary Controls\r\n    controlNav: true,               //Boolean: Create navigation for paging control of each slide? Note: Leave true for manualControls usage\r\n    directionNav: true,             //Boolean: Create navigation for previous/next navigation? (true/false)\r\n    prevText: \"Previous\",           //String: Set the text for the \"previous\" directionNav item\r\n    nextText: \"Next\",               //String: Set the text for the \"next\" directionNav item\r\n\r\n    // Secondary Navigation\r\n    keyboard: true,                 //Boolean: Allow slider navigating via keyboard left/right keys\r\n    multipleKeyboard: false,        //{NEW} Boolean: Allow keyboard navigation to affect multiple sliders. Default behavior cuts out keyboard navigation with more than one slider present.\r\n    mousewheel: false,              //{UPDATED} Boolean: Requires jquery.mousewheel.js (https://github.com/brandonaaron/jquery-mousewheel) - Allows slider navigating via mousewheel\r\n    pausePlay: false,               //Boolean: Create pause/play dynamic element\r\n    pauseText: \"Pause\",             //String: Set the text for the \"pause\" pausePlay item\r\n    playText: \"Play\",               //String: Set the text for the \"play\" pausePlay item\r\n\r\n    // Special properties\r\n    controlsContainer: \"\",          //{UPDATED} jQuery Object/Selector: Declare which container the navigation elements should be appended too. Default container is the FlexSlider element. Example use would be $(\".flexslider-container\"). Property is ignored if given element is not found.\r\n    manualControls: \"\",             //{UPDATED} jQuery Object/Selector: Declare custom control navigation. Examples would be $(\".flex-control-nav li\") or \"#tabs-nav li img\", etc. The number of elements in your controlNav should match the number of slides/tabs.\r\n    customDirectionNav: \"\",         //{NEW} jQuery Object/Selector: Custom prev / next button. Must be two jQuery elements. In order to make the events work they have to have the classes \"prev\" and \"next\" (plus namespace)\r\n    sync: \"\",                       //{NEW} Selector: Mirror the actions performed on this slider with another slider. Use with care.\r\n    asNavFor: \"\",                   //{NEW} Selector: Internal property exposed for turning the slider into a thumbnail navigation for another slider\r\n\r\n    // Carousel Options\r\n    itemWidth: 0,                   //{NEW} Integer: Box-model width of individual carousel items, including horizontal borders and padding.\r\n    itemMargin: 0,                  //{NEW} Integer: Margin between carousel items.\r\n    minItems: 1,                    //{NEW} Integer: Minimum number of carousel items that should be visible. Items will resize fluidly when below this.\r\n    maxItems: 0,                    //{NEW} Integer: Maxmimum number of carousel items that should be visible. Items will resize fluidly when above this limit.\r\n    move: 0,                        //{NEW} Integer: Number of carousel items that should move on animation. If 0, slider will move all visible items.\r\n    allowOneSlide: true,           //{NEW} Boolean: Whether or not to allow a slider comprised of a single slide\r\n\r\n    // Callback API\r\n    start: function(){},            //Callback: function(slider) - Fires when the slider loads the first slide\r\n    before: function(){},           //Callback: function(slider) - Fires asynchronously with each slider animation\r\n    after: function(){},            //Callback: function(slider) - Fires after each slider animation completes\r\n    end: function(){},              //Callback: function(slider) - Fires when the slider reaches the last slide (asynchronous)\r\n    added: function(){},            //{NEW} Callback: function(slider) - Fires after a slide is added\r\n    removed: function(){},           //{NEW} Callback: function(slider) - Fires after a slide is removed\r\n    init: function() {}             //{NEW} Callback: function(slider) - Fires after the slider is initially setup\r\n  };\r\n\r\n  //FlexSlider: Plugin Function\r\n  $.fn.flexslider = function(options) {\r\n    if (options === undefined) { options = {}; }\r\n\r\n    if (typeof options === \"object\") {\r\n      return this.each(function() {\r\n        var $this = $(this),\r\n            selector = (options.selector) ? options.selector : \".slides > li\",\r\n            $slides = $this.find(selector);\r\n\r\n      if ( ( $slides.length === 1 && options.allowOneSlide === false ) || $slides.length === 0 ) {\r\n          $slides.fadeIn(400);\r\n          if (options.start) { options.start($this); }\r\n        } else if ($this.data('flexslider') === undefined) {\r\n          new $.flexslider(this, options);\r\n        }\r\n      });\r\n    } else {\r\n      // Helper strings to quickly perform functions on the slider\r\n      var $slider = $(this).data('flexslider');\r\n      switch (options) {\r\n        case \"play\": $slider.play(); break;\r\n        case \"pause\": $slider.pause(); break;\r\n        case \"stop\": $slider.stop(); break;\r\n        case \"next\": $slider.flexAnimate($slider.getTarget(\"next\"), true); break;\r\n        case \"prev\":\r\n        case \"previous\": $slider.flexAnimate($slider.getTarget(\"prev\"), true); break;\r\n        default: if (typeof options === \"number\") { $slider.flexAnimate(options, true); }\r\n      }\r\n    }\r\n  };\r\n})(jQuery);\r\n//\r\n// By Osvaldas Valutis, www.osvaldas.info\r\n// Available for use under the MIT License\r\n//\r\n(function (factory) {\r\n    // http://blog.npmjs.org/post/112712169830/making-your-jquery-plugin-work-better-with-npm\r\n    // If there is a variable named module and it has an exports property,\r\n    // then we're working in a Node-like environment. Use require to load\r\n    // the jQuery object that the module system is using and pass it in.\r\n    if(typeof module === 'object' && typeof module.exports === 'object') {\r\n        factory(require('jquery'), window, document);\r\n    }\r\n    // Otherwise, we're working in a browser, so just pass in the global\r\n    // jQuery object.\r\n    else {\r\n        factory(jQuery, window, document);\r\n    }\r\n}(function ($, window, document) {\r\n    'use strict';\r\n    // COMPONENTS //\r\n    var $activityObject = $('<div/>')\r\n            .attr('class','imagelightbox-loading')\r\n            .append($('<div/>')),\r\n        $arrowLeftObject = $('<button/>',{\r\n            type: 'button',\r\n            class: 'imagelightbox-arrow imagelightbox-arrow-left'}),\r\n        $arrowRightObject = $('<button/>',{\r\n            type: 'button',\r\n            class: 'imagelightbox-arrow imagelightbox-arrow-right'}),\r\n        $arrows = $arrowLeftObject.add($arrowRightObject),\r\n        $captionObject = $('<div/>', {\r\n            class: 'imagelightbox-caption',\r\n            html: '&nbsp;'\r\n        }),\r\n        $buttonObject =  $('<a/>', {\r\n            class: 'imagelightbox-close'\r\n        }),\r\n        $overlayObject = $('<div/>', {\r\n            class:'imagelightbox-overlay'\r\n        }),\r\n        $navItem = $('<a/>', {\r\n            href:'#',\r\n            class:'imagelightbox-navitem'\r\n        }),\r\n        $navObject = $('<div/>', {\r\n            class: 'imagelightbox-nav'\r\n        }),\r\n        $wrapper = $('<div/>', {\r\n            class: 'imagelightbox-wrapper'\r\n        }),\r\n        $body = $('body');\r\n\r\n    var cssTransitionSupport = function () {\r\n            var s = document.body || document.documentElement;\r\n            s = s.style;\r\n            if (s.WebkitTransition === '') {\r\n                return '-webkit-';\r\n            }\r\n            if (s.MozTransition === '') {\r\n                return '-moz-';\r\n            }\r\n            if (s.OTransition === '') {\r\n                return '-o-';\r\n            }\r\n            if (s.transition === '') {\r\n                return '';\r\n            }\r\n            return false;\r\n        },\r\n\r\n        hasCssTransitionSupport = cssTransitionSupport() !== false,\r\n\r\n        cssTransitionTranslateX = function (element, positionX, speed) {\r\n            var options = {}, prefix = cssTransitionSupport();\r\n            options[prefix + 'transform'] = 'translateX(' + positionX + ') translateY(-50%)';\r\n            options[prefix + 'transition'] = prefix + 'transform ' + speed + 's linear';\r\n            element.css(options);\r\n        },\r\n\r\n        hasTouch = ( 'ontouchstart' in window ),\r\n        hasPointers = window.navigator.pointerEnabled || window.navigator.msPointerEnabled,\r\n        wasTouched = function (event) {\r\n            if (hasTouch) {\r\n                return true;\r\n            }\r\n\r\n            if (!hasPointers || typeof event === 'undefined' || typeof event.pointerType === 'undefined') {\r\n                return false;\r\n            }\r\n\r\n            if (typeof event.MSPOINTER_TYPE_MOUSE !== 'undefined') {\r\n                if (event.MSPOINTER_TYPE_MOUSE !== event.pointerType) {\r\n                    return true;\r\n                }\r\n            }\r\n            else if (event.pointerType !== 'mouse') {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        fullscreenSupport = function () {\r\n            return !!(document.fullscreenEnabled ||\r\n                    document.webkitFullscreenEnabled ||\r\n                    document.mozFullScreenEnabled ||\r\n                    document.msFullscreenEnabled);\r\n\r\n        },\r\n        hasFullscreenSupport = fullscreenSupport() !== false;\r\n\r\n    $.fn.imageLightbox = function (opts) {\r\n        var options = $.extend({\r\n                selector:       'a[data-imagelightbox]',\r\n                id:             'imagelightbox',\r\n                allowedTypes:   'png|jpg|jpeg|gif', // TODO make it work again\r\n                animationSpeed: 250,\r\n                activity:       false,\r\n                arrows:         false,\r\n                button:         false,\r\n                caption:        false,\r\n                enableKeyboard: true,\r\n                fullscreen:     false,\r\n                gutter:         10,     // percentage of client height\r\n                offsetY:        0,      // percentage of gutter\r\n                navigation:     false,\r\n                overlay:        false,\r\n                preloadNext:    true,\r\n                quitOnEnd:      false,\r\n                quitOnImgClick: false,\r\n                quitOnDocClick: true,\r\n                quitOnEscKey:   true\r\n            }, opts),\r\n            _onStart = function () {\r\n                if (options.arrows) {\r\n                    arrowsOn(this);\r\n                }\r\n                if (options.navigation) {\r\n                    navigationOn();\r\n                }\r\n                if (options.overlay) {\r\n                    overlayOn();\r\n                }\r\n                if (options.button) {\r\n                    closeButtonOn();\r\n                }\r\n                if (options.caption) {\r\n                    $wrapper.append($captionObject);\r\n                }\r\n            },\r\n            _onLoadStart = function () {\r\n                if (options.activity) {\r\n                    activityIndicatorOn();\r\n                }\r\n                if (options.caption) {\r\n                    captionReset();\r\n                }\r\n            },\r\n            _onLoadEnd = function () {\r\n                if (options.activity) {\r\n                    activityIndicatorOff();\r\n                }\r\n                if (options.arrows) {\r\n                    $arrows.css('display', 'block');\r\n                }\r\n            },\r\n            _previousTarget = function () {\r\n                var targetIndex = targets.index(target) - 1;\r\n                if (targetIndex < 0) {\r\n                    if (options.quitOnEnd === true) {\r\n                        _quitImageLightbox();\r\n                        return false;\r\n                    }\r\n                    else {\r\n                        targetIndex = targets.length - 1;\r\n                    }\r\n                }\r\n                target = targets.eq(targetIndex);\r\n                $wrapper.trigger('previous.ilb2');\r\n                _loadImage(+1);\r\n            },\r\n            _nextTarget = function () {\r\n                var targetIndex = targets.index(target) + 1;\r\n                if (targetIndex >= targets.length) {\r\n                    if (options.quitOnEnd === true) {\r\n                        _quitImageLightbox();\r\n                        return false;\r\n                    }\r\n                    else {\r\n                        targetIndex = 0;\r\n                    }\r\n                }\r\n                target = targets.eq(targetIndex);\r\n                $wrapper.trigger('next.ilb2');\r\n                _loadImage(-1);\r\n            },\r\n            activityIndicatorOn = function () {\r\n                $wrapper.append($activityObject);\r\n            },\r\n            activityIndicatorOff = function () {\r\n                $('.imagelightbox-loading').remove();\r\n            },\r\n            overlayOn = function () {\r\n                $wrapper.append($overlayObject);\r\n            },\r\n            closeButtonOn = function () {\r\n                $buttonObject.appendTo($wrapper).on('click.ilb7', function () {\r\n                    _quitImageLightbox();\r\n                    return false;\r\n                });\r\n            },\r\n            captionReset = function () {\r\n                $captionObject.html('&nbsp;');\r\n                if ($(target).data('ilb2-caption')) {\r\n                    $captionObject.html($(target).data('ilb2-caption'));\r\n                } else if ($(target).find('img').length > 0) {\r\n                    $captionObject.html($(target).find('img').attr('alt'));\r\n                }\r\n            },\r\n            navigationOn = function () {\r\n                if (targets.length) {\r\n                    for (var i = 0; i < targets.length; i++) {\r\n                        $navObject.append($navItem.clone());\r\n                    }\r\n                    var $navItems = $navObject.children('a');\r\n                    $navItems.eq(targets.index(target)).addClass('active');\r\n                    //\r\n                    $wrapper.on('previous.ilb2 next.ilb2', function () {\r\n                        $navItems.removeClass('active').eq(targets.index(target)).addClass('active');\r\n                    });\r\n                    $wrapper.append($navObject);\r\n                    //\r\n                    $navObject\r\n                        .on('click.ilb7 touchend.ilb7', function () {\r\n                            return false;\r\n                        })\r\n                        .on('click.ilb7 touchend.ilb7', 'a', function () {\r\n                            var $this = $(this);\r\n                            if (targets.eq($this.index()).attr('href') !== $('.imagelightbox').attr('src')) {\r\n                                var tmpTarget = targets.eq($this.index());\r\n                                if (tmpTarget.length) {\r\n                                    currentIndex = targets.index(target);\r\n                                    target = tmpTarget;\r\n                                    _loadImage($this.index() < currentIndex ? -1 : 1);\r\n                                }\r\n                            }\r\n                            $this.addClass('active').siblings().removeClass('active');\r\n                        });\r\n                }\r\n            },\r\n            arrowsOn = function () {\r\n                $wrapper.append($arrows);\r\n                $arrows.on('click.ilb7 touchend.ilb7', function (e) {\r\n                    e.stopImmediatePropagation();\r\n                    e.preventDefault();\r\n                    if ($(this).hasClass('imagelightbox-arrow-left')) {\r\n                        _previousTarget();\r\n                    } else {\r\n                        _nextTarget();\r\n                    }\r\n                    return false;\r\n                });\r\n            },\r\n            targetSet = '',\r\n            targets = $([]),\r\n            target = $(),\r\n            image = $(),\r\n            imageWidth = 0,\r\n            imageHeight = 0,\r\n            swipeDiff = 0,\r\n            inProgress = false,\r\n            currentIndex = 0,\r\n\r\n            isTargetValid = function (validImage) {\r\n                var allowedTypes = options.allowedTypes;\r\n\r\n                //test that RegExp is restricted to disjunction format\r\n                var isGoodRE = /^(?!\\|)[\\w|]+(?!\\|)$/.test(allowedTypes);\r\n                //\r\n                if (!isGoodRE) {\r\n                    //allowedTypes = 'png|jpg|jpeg|gif';\r\n                    return false;\r\n                }\r\n                //\r\n                var URL = validImage.attr('href');\r\n                var ext = parseURL(URL).pathname;\r\n                var re = new RegExp(allowedTypes,'i');\r\n                //\r\n                var isAllowed = re.test(ext);\r\n                // function by Cory LaViska\r\n                function parseURL(url) {\r\n                    var parser = document.createElement('a'),\r\n                        searchObject = {},\r\n                        queries, split, i;\r\n                    // Let the browser do the work\r\n                    parser.href = url;\r\n                    // Convert query string to object\r\n                    queries = parser.search.replace(/^\\?/, '').split('&');\r\n                    for( i = 0; i < queries.length; i++ ) {\r\n                        split = queries[i].split('=');\r\n                        searchObject[split[0]] = split[1];\r\n                    }\r\n                    return {\r\n                        protocol: parser.protocol,\r\n                        host: parser.host,\r\n                        hostname: parser.hostname,\r\n                        port: parser.port,\r\n                        pathname: parser.pathname,\r\n                        search: parser.search,\r\n                        searchObject: searchObject,\r\n                        hash: parser.hash\r\n                    };\r\n                }\r\n                return isAllowed;\r\n            },\r\n\r\n            // TODO make it work again\r\n            // isTargetValid = function (element) {\r\n            //   var classic = $(element).prop('tagName').toLowerCase() === 'a' && ( new RegExp('.(' + options.allowedTypes + ')$', 'i') ).test($(element).attr('href'));\r\n            //   var html5 = $(element).attr('data-lightbox') !== undefined;\r\n            //   return classic || html5;\r\n            // },\r\n\r\n            _setImage = function () {\r\n                if (!image.length) {\r\n                    return true;\r\n                }\r\n                var captionHeight = options.caption ? $captionObject.outerHeight() : 0;\r\n\r\n                var screenWidth = $(window).width(),\r\n                    screenHeight = $(window).height() - captionHeight,\r\n                    gutterFactor = Math.abs(1 - options.gutter/100),\r\n                    tmpImage = new Image();\r\n\r\n                tmpImage.src = image.attr('src');\r\n                tmpImage.onload = function () {\r\n                    imageWidth = tmpImage.width;\r\n                    imageHeight = tmpImage.height;\r\n\r\n                    if (imageWidth > screenWidth || imageHeight > screenHeight) {\r\n                        var ratio = imageWidth / imageHeight > screenWidth / screenHeight ? imageWidth / screenWidth : imageHeight / screenHeight;\r\n                        imageWidth /= ratio;\r\n                        imageHeight /= ratio;\r\n                    }\r\n                    var cssHeight = imageHeight*gutterFactor,\r\n                        cssWidth = imageWidth*gutterFactor,\r\n                        cssLeft = ($(window).width() - cssWidth ) / 2;\r\n\r\n                    image.css({\r\n                        'width': cssWidth + 'px',\r\n                        'height': cssHeight + 'px',\r\n                        'left':  cssLeft + 'px'\r\n                    });\r\n                };\r\n            },\r\n\r\n            _loadImage = function (direction) {\r\n                if (inProgress) {\r\n                    return false;\r\n                }\r\n\r\n                if (image.length) {\r\n                    var params = {'opacity': 0};\r\n                    if (hasCssTransitionSupport) {\r\n                        cssTransitionTranslateX(image, ( 100 * direction ) - swipeDiff + 'px', options.animationSpeed / 1000);\r\n                    }\r\n                    else {\r\n                        params.left = parseInt(image.css('left')) + 100 * direction + 'px';\r\n                    }\r\n                    image.animate(params, options.animationSpeed, function () {\r\n                        _removeImage();\r\n                    });\r\n                    swipeDiff = 0;\r\n                }\r\n\r\n                inProgress = true;\r\n                _onLoadStart();\r\n\r\n                setTimeout(function () {\r\n                    var imgPath = target.attr('href');\r\n                    // if ( imgPath === undefined ) {\r\n                    //     imgPath = target.attr( 'data-lightbox' );\r\n                    // }\r\n                    image = $('<img id=\\'' + options.id + '\\' />')\r\n                        .attr('src', imgPath)\r\n                        .on('load.ilb7', function () {\r\n                            var params = {'opacity': 1};\r\n\r\n                            image.appendTo($wrapper);\r\n                            _setImage();\r\n                            image.css('opacity', 0);\r\n                            if (hasCssTransitionSupport) {\r\n                                cssTransitionTranslateX(image, -100 * direction + 'px', 0);\r\n                                setTimeout(function () {\r\n                                    cssTransitionTranslateX(image, 0 + 'px', options.animationSpeed / 1000);\r\n                                }, 50);\r\n                            } else {\r\n                                var imagePosLeft = parseInt(image.css('left'));\r\n                                params.left = imagePosLeft + 'px';\r\n                                image.css('left', imagePosLeft - 100 * direction + 'px');\r\n                            }\r\n\r\n                            image.animate(params, options.animationSpeed, function () {\r\n                                inProgress = false;\r\n                                _onLoadEnd();\r\n                            });\r\n                            if (options.preloadNext) {\r\n                                var nextTarget = targets.eq(targets.index(target) + 1);\r\n                                if (!nextTarget.length) {\r\n                                    nextTarget = targets.eq(0);\r\n                                }\r\n                                $('<img />').attr('src', nextTarget.attr('href'));\r\n                            }\r\n                            $wrapper.trigger('loaded.ilb2');\r\n                        })\r\n                        .on('error.ilb7', function () {\r\n                            _onLoadEnd();\r\n                        });\r\n\r\n                    var swipeStart = 0,\r\n                        swipeEnd = 0,\r\n                        imagePosLeft = 0;\r\n\r\n                    image.on(hasPointers ? 'pointerup.ilb7 MSPointerUp.ilb7' : 'click.ilb7', function (e) {\r\n                        e.preventDefault();\r\n                        if (options.quitOnImgClick) {\r\n                            _quitImageLightbox();\r\n                            return false;\r\n                        }\r\n                        if (wasTouched(e.originalEvent)) {\r\n                            return true;\r\n                        }\r\n                        var posX = ( e.pageX || e.originalEvent.pageX ) - e.target.offsetLeft;\r\n                        if (imageWidth / 2 > posX) {\r\n                            _previousTarget();\r\n                        } else {\r\n                            _nextTarget();\r\n                        }\r\n                    })\r\n                        .on('touchstart.ilb7 pointerdown.ilb7 MSPointerDown.ilb7', function (e) {\r\n                            if (!wasTouched(e.originalEvent) || options.quitOnImgClick) {\r\n                                return true;\r\n                            }\r\n                            if (hasCssTransitionSupport) {\r\n                                imagePosLeft = parseInt(image.css('left'));\r\n                            }\r\n                            swipeStart = e.originalEvent.pageX || e.originalEvent.touches[0].pageX;\r\n                        })\r\n                        .on('touchmove.ilb7 pointermove.ilb7 MSPointerMove.ilb7', function (e) {\r\n                            if ((!hasPointers && e.type === 'pointermove') || !wasTouched(e.originalEvent) || options.quitOnImgClick) {\r\n                                return true;\r\n                            }\r\n                            e.preventDefault();\r\n                            swipeEnd = e.originalEvent.pageX || e.originalEvent.touches[0].pageX;\r\n                            swipeDiff = swipeStart - swipeEnd;\r\n                            if (hasCssTransitionSupport) {\r\n                                cssTransitionTranslateX(image, -swipeDiff + 'px', 0);\r\n                            } else {\r\n                                image.css('left', imagePosLeft - swipeDiff + 'px');\r\n                            }\r\n                        })\r\n                        .on('touchend.ilb7 touchcancel.ilb7 pointerup.ilb7 pointercancel.ilb7 MSPointerUp.ilb7 MSPointerCancel.ilb7', function (e) {\r\n                            if (!wasTouched(e.originalEvent) || options.quitOnImgClick) {\r\n                                return true;\r\n                            }\r\n                            if (Math.abs(swipeDiff) > 50) {\r\n                                if (swipeDiff < 0) {\r\n                                    _previousTarget();\r\n                                } else {\r\n                                    _nextTarget();\r\n                                }\r\n                            } else {\r\n                                if (hasCssTransitionSupport) {\r\n                                    cssTransitionTranslateX(image, 0 + 'px', options.animationSpeed / 1000);\r\n                                } else {\r\n                                    image.animate({'left': imagePosLeft + 'px'}, options.animationSpeed / 2);\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                }, options.animationSpeed + 100);\r\n            },\r\n            _removeImage = function () {\r\n                if (!image.length) {\r\n                    return false;\r\n                }\r\n                image.remove();\r\n                image = $();\r\n            },\r\n\r\n            _openImageLightbox = function ($target) {\r\n                if (inProgress) {\r\n                    return false;\r\n                }\r\n                inProgress = false;\r\n                target = $target;\r\n                _onStart();\r\n                $body.append($wrapper)\r\n                    .addClass('imagelightbox-open');\r\n                $wrapper.trigger('start.ilb2');\r\n                _loadImage(0);\r\n            },\r\n\r\n            _quitImageLightbox = function () {\r\n                $wrapper.trigger('quit.ilb2');\r\n                $body.removeClass('imagelightbox-open');\r\n                if (!image.length) {\r\n                    return false;\r\n                }\r\n                image.animate({'opacity': 0}, options.animationSpeed, function () {\r\n                    _removeImage();\r\n                    inProgress = false;\r\n                    targets = $([]);\r\n                    $wrapper.remove().find('*').remove();\r\n                });\r\n            },\r\n\r\n            _addTargets = function( newTargets ) {\r\n                newTargets.on('click.ilb7', {set: targetSet}, function (e) {\r\n                    e.preventDefault();\r\n                    targetSet = $(e.currentTarget).data('imagelightbox');\r\n                    filterTargets();\r\n                    if (targets.length < 1) {\r\n                        _quitImageLightbox();\r\n                    } else {\r\n                        _openImageLightbox($(this));\r\n                    }\r\n                });\r\n                function filterTargets () {\r\n                    newTargets\r\n                        .filter(function () {\r\n                            return $(this).data('imagelightbox') === targetSet;\r\n                        })\r\n                        .filter(function () {\r\n                            return isTargetValid($(this));\r\n                        })\r\n                        .each(function () {\r\n                            targets = targets.add($(this));\r\n                        });\r\n                }\r\n            };\r\n\r\n        $(window).on('resize.ilb7', _setImage);\r\n\r\n        $(document).ready(function() {\r\n\r\n            if (options.quitOnDocClick) {\r\n                $(document).on(hasTouch ? 'touchend.ilb7' : 'click.ilb7', function (e) {\r\n                    if (image.length && !$(e.target).is(image)) {\r\n                        e.preventDefault();\r\n                        _quitImageLightbox();\r\n                    }\r\n                });\r\n            }\r\n\r\n            if (options.fullscreen && hasFullscreenSupport) {\r\n                $(document).on('keydown.ilb7', function (e) {\r\n                    if (!image.length) {\r\n                        return true;\r\n                    }\r\n                    if([9,32,38,40].indexOf(e.which) > -1) {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }\r\n                    if ([13].indexOf(e.which) > -1) {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                        toggleFullScreen();\r\n                    }\r\n                });\r\n            }\r\n\r\n            if (options.enableKeyboard) {\r\n                $(document).on('keydown.ilb7', function (e) {\r\n                    if (!image.length) {\r\n                        return true;\r\n                    }\r\n                    if ([27].indexOf(e.which) > -1 && options.quitOnEscKey) {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                        _quitImageLightbox();\r\n                    }\r\n                    if ([37].indexOf(e.which) > -1) {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                        _previousTarget();\r\n                    }\r\n                    if ([39].indexOf(e.which) > -1) {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                        _nextTarget();\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        function launchIntoFullscreen(element) {\r\n            if(element.requestFullscreen) {\r\n                element.requestFullscreen();\r\n            } else if(element.mozRequestFullScreen) {\r\n                element.mozRequestFullScreen();\r\n            } else if(element.webkitRequestFullscreen) {\r\n                element.webkitRequestFullscreen();\r\n            } else if(element.msRequestFullscreen) {\r\n                element.msRequestFullscreen();\r\n            }\r\n            return false;\r\n        }\r\n\r\n        function exitFullscreen() {\r\n            if(document.exitFullscreen) {\r\n                document.exitFullscreen();\r\n            } else if(document.mozCancelFullScreen) {\r\n                document.mozCancelFullScreen();\r\n            } else if(document.webkitExitFullscreen) {\r\n                document.webkitExitFullscreen();\r\n            }\r\n            return false;\r\n        }\r\n\r\n        function toggleFullScreen() {\r\n            launchIntoFullscreen(document.getElementById(options.id).parentElement) ||\r\n                exitFullscreen();\r\n        }\r\n\r\n        $(document).off('click', options.selector);\r\n\r\n        _addTargets($(this));\r\n\r\n        this.addToImageLightbox = function(elements)  {\r\n            _addTargets(elements);\r\n        };\r\n\r\n        this.loadPreviousImage = function () {\r\n            _previousTarget();\r\n        };\r\n\r\n        this.loadNextImage = function () {\r\n            _nextTarget();\r\n        };\r\n\r\n        this.quitImageLightbox = function () {\r\n            _quitImageLightbox();\r\n            return this;\r\n        };\r\n\r\n        this.startImageLightbox = function (element) {\r\n            if (element)\r\n                element.trigger('click.ilb7');\r\n            else\r\n                $(this).trigger('click.ilb7');\r\n        };\r\n\r\n        return this;\r\n    };\r\n}));\r\n/*\r\n    jQuery Masked Input Plugin\r\n    Copyright (c) 2007 - 2015 Josh Bush (digitalbush.com)\r\n    Licensed under the MIT license (http://digitalbush.com/projects/masked-input-plugin/#license)\r\n    Version: 1.4.1\r\n*/\r\n!function(factory) {\r\n    \"function\" == typeof define && define.amd ? define([ \"jquery\" ], factory) : factory(\"object\" == typeof exports ? require(\"jquery\") : jQuery);\r\n}(function($) {\r\n    var caretTimeoutId, ua = navigator.userAgent, iPhone = /iphone/i.test(ua), chrome = /chrome/i.test(ua), android = /android/i.test(ua);\r\n    $.mask = {\r\n        definitions: {\r\n            \"9\": \"[0-9]\",\r\n            a: \"[A-Za-z]\",\r\n            \"*\": \"[A-Za-z0-9]\"\r\n        },\r\n        autoclear: !0,\r\n        dataName: \"rawMaskFn\",\r\n        placeholder: \"_\"\r\n    }, $.fn.extend({\r\n        caret: function(begin, end) {\r\n            var range;\r\n            if (0 !== this.length && !this.is(\":hidden\")) return \"number\" == typeof begin ? (end = \"number\" == typeof end ? end : begin, \r\n            this.each(function() {\r\n                this.setSelectionRange ? this.setSelectionRange(begin, end) : this.createTextRange && (range = this.createTextRange(), \r\n                range.collapse(!0), range.moveEnd(\"character\", end), range.moveStart(\"character\", begin), \r\n                range.select());\r\n            })) : (this[0].setSelectionRange ? (begin = this[0].selectionStart, end = this[0].selectionEnd) : document.selection && document.selection.createRange && (range = document.selection.createRange(), \r\n            begin = 0 - range.duplicate().moveStart(\"character\", -1e5), end = begin + range.text.length), \r\n            {\r\n                begin: begin,\r\n                end: end\r\n            });\r\n        },\r\n        unmask: function() {\r\n            return this.trigger(\"unmask\");\r\n        },\r\n        mask: function(mask, settings) {\r\n            var input, defs, tests, partialPosition, firstNonMaskPos, lastRequiredNonMaskPos, len, oldVal;\r\n            if (!mask && this.length > 0) {\r\n                input = $(this[0]);\r\n                var fn = input.data($.mask.dataName);\r\n                return fn ? fn() : void 0;\r\n            }\r\n            return settings = $.extend({\r\n                autoclear: $.mask.autoclear,\r\n                placeholder: $.mask.placeholder,\r\n                completed: null\r\n            }, settings), defs = $.mask.definitions, tests = [], partialPosition = len = mask.length, \r\n            firstNonMaskPos = null, $.each(mask.split(\"\"), function(i, c) {\r\n                \"?\" == c ? (len--, partialPosition = i) : defs[c] ? (tests.push(new RegExp(defs[c])), \r\n                null === firstNonMaskPos && (firstNonMaskPos = tests.length - 1), partialPosition > i && (lastRequiredNonMaskPos = tests.length - 1)) : tests.push(null);\r\n            }), this.trigger(\"unmask\").each(function() {\r\n                function tryFireCompleted() {\r\n                    if (settings.completed) {\r\n                        for (var i = firstNonMaskPos; lastRequiredNonMaskPos >= i; i++) if (tests[i] && buffer[i] === getPlaceholder(i)) return;\r\n                        settings.completed.call(input);\r\n                    }\r\n                }\r\n                function getPlaceholder(i) {\r\n                    return settings.placeholder.charAt(i < settings.placeholder.length ? i : 0);\r\n                }\r\n                function seekNext(pos) {\r\n                    for (;++pos < len && !tests[pos]; ) ;\r\n                    return pos;\r\n                }\r\n                function seekPrev(pos) {\r\n                    for (;--pos >= 0 && !tests[pos]; ) ;\r\n                    return pos;\r\n                }\r\n                function shiftL(begin, end) {\r\n                    var i, j;\r\n                    if (!(0 > begin)) {\r\n                        for (i = begin, j = seekNext(end); len > i; i++) if (tests[i]) {\r\n                            if (!(len > j && tests[i].test(buffer[j]))) break;\r\n                            buffer[i] = buffer[j], buffer[j] = getPlaceholder(j), j = seekNext(j);\r\n                        }\r\n                        writeBuffer(), input.caret(Math.max(firstNonMaskPos, begin));\r\n                    }\r\n                }\r\n                function shiftR(pos) {\r\n                    var i, c, j, t;\r\n                    for (i = pos, c = getPlaceholder(pos); len > i; i++) if (tests[i]) {\r\n                        if (j = seekNext(i), t = buffer[i], buffer[i] = c, !(len > j && tests[j].test(t))) break;\r\n                        c = t;\r\n                    }\r\n                }\r\n                function androidInputEvent() {\r\n                    var curVal = input.val(), pos = input.caret();\r\n                    if (oldVal && oldVal.length && oldVal.length > curVal.length) {\r\n                        for (checkVal(!0); pos.begin > 0 && !tests[pos.begin - 1]; ) pos.begin--;\r\n                        if (0 === pos.begin) for (;pos.begin < firstNonMaskPos && !tests[pos.begin]; ) pos.begin++;\r\n                        input.caret(pos.begin, pos.begin);\r\n                    } else {\r\n                        for (checkVal(!0); pos.begin < len && !tests[pos.begin]; ) pos.begin++;\r\n                        input.caret(pos.begin, pos.begin);\r\n                    }\r\n                    tryFireCompleted();\r\n                }\r\n                function blurEvent() {\r\n                    checkVal(), input.val() != focusText && input.change();\r\n                }\r\n                function keydownEvent(e) {\r\n                    if (!input.prop(\"readonly\")) {\r\n                        var pos, begin, end, k = e.which || e.keyCode;\r\n                        oldVal = input.val(), 8 === k || 46 === k || iPhone && 127 === k ? (pos = input.caret(), \r\n                        begin = pos.begin, end = pos.end, end - begin === 0 && (begin = 46 !== k ? seekPrev(begin) : end = seekNext(begin - 1), \r\n                        end = 46 === k ? seekNext(end) : end), clearBuffer(begin, end), shiftL(begin, end - 1), \r\n                        e.preventDefault()) : 13 === k ? blurEvent.call(this, e) : 27 === k && (input.val(focusText), \r\n                        input.caret(0, checkVal()), e.preventDefault());\r\n                    }\r\n                }\r\n                function keypressEvent(e) {\r\n                    if (!input.prop(\"readonly\")) {\r\n                        var p, c, next, k = e.which || e.keyCode, pos = input.caret();\r\n                        if (!(e.ctrlKey || e.altKey || e.metaKey || 32 > k) && k && 13 !== k) {\r\n                            if (pos.end - pos.begin !== 0 && (clearBuffer(pos.begin, pos.end), shiftL(pos.begin, pos.end - 1)), \r\n                            p = seekNext(pos.begin - 1), len > p && (c = String.fromCharCode(k), tests[p].test(c))) {\r\n                                if (shiftR(p), buffer[p] = c, writeBuffer(), next = seekNext(p), android) {\r\n                                    var proxy = function() {\r\n                                        $.proxy($.fn.caret, input, next)();\r\n                                    };\r\n                                    setTimeout(proxy, 0);\r\n                                } else input.caret(next);\r\n                                pos.begin <= lastRequiredNonMaskPos && tryFireCompleted();\r\n                            }\r\n                            e.preventDefault();\r\n                        }\r\n                    }\r\n                }\r\n                function clearBuffer(start, end) {\r\n                    var i;\r\n                    for (i = start; end > i && len > i; i++) tests[i] && (buffer[i] = getPlaceholder(i));\r\n                }\r\n                function writeBuffer() {\r\n                    input.val(buffer.join(\"\"));\r\n                }\r\n                function checkVal(allow) {\r\n                    var i, c, pos, test = input.val(), lastMatch = -1;\r\n                    for (i = 0, pos = 0; len > i; i++) if (tests[i]) {\r\n                        for (buffer[i] = getPlaceholder(i); pos++ < test.length; ) if (c = test.charAt(pos - 1), \r\n                        tests[i].test(c)) {\r\n                            buffer[i] = c, lastMatch = i;\r\n                            break;\r\n                        }\r\n                        if (pos > test.length) {\r\n                            clearBuffer(i + 1, len);\r\n                            break;\r\n                        }\r\n                    } else buffer[i] === test.charAt(pos) && pos++, partialPosition > i && (lastMatch = i);\r\n                    return allow ? writeBuffer() : partialPosition > lastMatch + 1 ? settings.autoclear || buffer.join(\"\") === defaultBuffer ? (input.val() && input.val(\"\"), \r\n                    clearBuffer(0, len)) : writeBuffer() : (writeBuffer(), input.val(input.val().substring(0, lastMatch + 1))), \r\n                    partialPosition ? i : firstNonMaskPos;\r\n                }\r\n                var input = $(this), buffer = $.map(mask.split(\"\"), function(c, i) {\r\n                    return \"?\" != c ? defs[c] ? getPlaceholder(i) : c : void 0;\r\n                }), defaultBuffer = buffer.join(\"\"), focusText = input.val();\r\n                input.data($.mask.dataName, function() {\r\n                    return $.map(buffer, function(c, i) {\r\n                        return tests[i] && c != getPlaceholder(i) ? c : null;\r\n                    }).join(\"\");\r\n                }), input.one(\"unmask\", function() {\r\n                    input.off(\".mask\").removeData($.mask.dataName);\r\n                }).on(\"focus.mask\", function() {\r\n                    if (!input.prop(\"readonly\")) {\r\n                        clearTimeout(caretTimeoutId);\r\n                        var pos;\r\n                        focusText = input.val(), pos = checkVal(), caretTimeoutId = setTimeout(function() {\r\n                            input.get(0) === document.activeElement && (writeBuffer(), pos == mask.replace(\"?\", \"\").length ? input.caret(0, pos) : input.caret(pos));\r\n                        }, 10);\r\n                    }\r\n                }).on(\"blur.mask\", blurEvent).on(\"keydown.mask\", keydownEvent).on(\"keypress.mask\", keypressEvent).on(\"input.mask paste.mask\", function() {\r\n                    input.prop(\"readonly\") || setTimeout(function() {\r\n                        var pos = checkVal(!0);\r\n                        input.caret(pos), tryFireCompleted();\r\n                    }, 0);\r\n                }), chrome && android && input.off(\"input.mask\").on(\"input.mask\", androidInputEvent), \r\n                checkVal();\r\n            });\r\n        }\r\n    });\r\n});\r\n$(document).ready( function () {\r\n    //модальные окна\r\n    $('#eskiz-bt').click(function () {\r\n        $('#eskiz').arcticmodal();\r\n    });\r\n    $('#workproject-bt').click(function () {\r\n        $('#workproject').arcticmodal();\r\n    });\r\n    $('#injener-bt').click(function () {\r\n        $('#injener').arcticmodal();\r\n    });\r\n    $('#desinjer-bt').click(function () {\r\n        $('#desinjer').arcticmodal();\r\n    });\r\n    $('.zvonok').click( function (e) {\r\n        e.preventDefault();\r\n        $('#exampleModal').arcticmodal();\r\n    });\r\n\r\n    $('#konf').click( function (e) {\r\n        e.preventDefault();\r\n        $('#konf-mod').arcticmodal();\r\n    });\r\n\r\n\r\n    //Маска к телефонам\r\n   $('input[name=\"phone\"]').mask(\"+7(999) 999-99-99\");\r\n\r\n    //Карусели\r\n    $('#carousel1').flexslider({\r\n        animation: \"slide\",\r\n        controlNav: false,\r\n        animationLoop: false,\r\n        slideshow: false,\r\n        itemWidth: 210,\r\n        itemMargin: 5,\r\n        asNavFor: '#slider1'\r\n    });\r\n\r\n    $('#slider1').flexslider({\r\n        animation: \"slide\",\r\n        controlNav: false,\r\n        animationLoop: false,\r\n        slideshow: false,\r\n        sync: \"#carousel1\",\r\n        prevText: \"\",\r\n        nextText: \"\"\r\n    });\r\n\r\n    $('#carousel2').flexslider({\r\n        animation: \"slide\",\r\n        controlNav: false,\r\n        animationLoop: false,\r\n        slideshow: false,\r\n        itemWidth: 210,\r\n        itemMargin: 5,\r\n        asNavFor: '#slider2'\r\n    });\r\n\r\n    $('#slider2').flexslider({\r\n        animation: \"slide\",\r\n        controlNav: false,\r\n        animationLoop: false,\r\n        slideshow: false,\r\n        sync: \"#carousel2\",\r\n        prevText: \"\",\r\n        nextText: \"\"\r\n    });\r\n\r\n\r\n    $('#carousel3').flexslider({\r\n        animation: \"slide\",\r\n        controlNav: false,\r\n        animationLoop: false,\r\n        slideshow: false,\r\n        itemWidth: 210,\r\n        itemMargin: 5,\r\n        asNavFor: '#slider3'\r\n    });\r\n\r\n    $('#slider3').flexslider({\r\n        animation: \"slide\",\r\n        controlNav: false,\r\n        animationLoop: false,\r\n        slideshow: false,\r\n        sync: \"#carousel3\",\r\n        prevText: \"\",\r\n        nextText: \"\"\r\n    });\r\n\r\n\r\n    //фиксируем меню\r\n\r\n    var h_hght = $('header').innerHeight(); // высота шапки\r\n    console.log(h_hght);\r\n    var h_mrg = 0;    // отступ когда шапка уже не видна\r\n\r\n    $(function(){\r\n\r\n        var elem = $('.menu');\r\n        var top = $(this).scrollTop();\r\n\r\n        if(top > h_hght){\r\n            elem.css('top', h_mrg);\r\n        }\r\n\r\n        $(window).scroll(function(){\r\n            top = $(this).scrollTop();\r\n\r\n            if (top+h_mrg < h_hght) {\r\n                // elem.css('top', (h_hght-top));\r\n            } else {\r\n                elem.css('top', h_mrg);\r\n            }\r\n        });\r\n\r\n    });\r\n\r\n\r\n    //подсветка элементов меню\r\n    (function(){\r\n        var blocks = [];\r\n        $('nav a[href^=\"#\"]').each(function(){ // пункты меню начинающиеся с '#'\r\n            blocks.push(this.hash)\r\n        })\r\n        $blocks = $(blocks.join(',')) // блоки с контентом\r\n        $blocks.each(function(){ // запоминаем координаты начала, конца и высоту блоков\r\n            $elem = $(this)\r\n            $elem.data('top', $elem.offset().top)\r\n            $elem.data('height', $elem.outerHeight())\r\n            $elem.data('bottom', $elem.data('top') + $elem.data('height'))\r\n        })\r\n\r\n        var $window = $(window)\r\n        var biggestElement = null\r\n        var biggestElementVisibleHeight = 0\r\n\r\n        $(window).on('scroll', function(){ // при скролле\r\n            $blocks.each(function(i, el){ // перебираем блоки\r\n                var screenTop = $window.scrollTop(); // определяем положение вьюпорта\r\n                var screenBottom = screenTop + $window.height();\r\n\r\n                var $elem = $(el)\r\n                // выясняем сколько высоты от блока помещается во вьюпорт\r\n                var visibleHeight = $elem.data('height')\r\n                    - (screenTop > $elem.data('top') ? screenTop - $elem.data('top') : 0)\r\n                    - ($elem.data('bottom') > screenBottom ? $elem.data('bottom') - screenBottom : 0)\r\n\r\n                if (biggestElement == el.id) { // если текущий блок и раньше был подсвечен,\r\n                    // просто обновляем насколько зменилась видимая высота\r\n                    biggestElementVisibleHeight = visibleHeight\r\n                } else {\r\n                    // если видимая высота блока больше чем у текущего подсвеченого\r\n                    if (visibleHeight > biggestElementVisibleHeight) {\r\n                        biggestElementVisibleHeight = visibleHeight // запоминаем высоту\r\n                        biggestElement = el.id // и какой блок\r\n\r\n                        $('nav a[href=\"#'+el.id+'\"]') // и подсвечиваем пункт меню\r\n                            .addClass('active')\r\n                            .siblings().removeClass('active')\r\n                    }\r\n                }\r\n            })\r\n        })\r\n    })();\r\n\r\n\r\n\r\n\r\n    //Плавный скролл\r\n\r\n    $('nav a, .cat-link-js').click( function(){ // ловим клик по ссылке с классом go_to\r\n        var scroll_el = $(this).attr('href'); // возьмем содержимое атрибута href, должен быть селектором, т.е. например начинаться с # или .\r\n        if ($(scroll_el).length != 0) { // проверим существование элемента чтобы избежать ошибки\r\n            $('html, body').animate({ scrollTop: $(scroll_el).offset().top }, 500); // анимируем скроолинг к элементу scroll_el\r\n        }\r\n        return false; // выключаем стандартное действие\r\n    });\r\n\r\n\r\n    // полноэкранное изображение\r\n    $( '.lig' ).imageLightbox(\r\n        {\r\n            arrows:   true,\r\n            button:   true\r\n        }\r\n    );\r\n    $( '.lig2' ).imageLightbox(\r\n        {\r\n            arrows:   true,\r\n            button:   true\r\n        }\r\n    );\r\n    $( '.lig3' ).imageLightbox(\r\n        {\r\n            arrows:   true,\r\n            button:   true\r\n        }\r\n    );\r\n    //Карта\r\n\r\n\r\n});"]}